  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20240221023032)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240221023032"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2024-02-21 02:30:55.567409"], ["updated_at", "2024-02-21 02:30:55.567409"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2024-02-21 10:43:15 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/max/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/max/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb (Duration: 3.0ms | Allocations: 580)
Completed 200 OK in 37ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 7682)


Started GET "/a" for 127.0.0.1 at 2024-02-21 10:43:19 +0800
  
ActionController::RoutingError (No route matches [GET] "/a"):
  
Started GET "/" for 127.0.0.1 at 2024-02-21 10:46:59 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 109)
  Rendered layout layouts/application.html.erb (Duration: 287.2ms | Allocations: 131571)
Completed 200 OK in 289ms (Views: 288.4ms | ActiveRecord: 0.0ms | Allocations: 132476)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActivityTypes (20240309090905)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "activity_types" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "climatiq_id" varchar, "climatiq_unit_of_measurement" varchar, "category" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240309090905"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActivities (20240309091414)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "carbon_emission" integer, "type_id" integer NOT NULL, "value" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_7e11bb717f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_3a673f7980"
FOREIGN KEY ("type_id")
  REFERENCES "types" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_user_id" ON "activities" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_type_id" ON "activities" ("type_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240309091414"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddClimatiqUnitTypeToActivityTypes (20240309092931)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "activity_types" ADD "climatiq_unit_type" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240309092931"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (1.4ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Motorcycle"], ["climatiq_id", "passenger_vehicle-vehicle_type_motorcycle-fuel_source_na-engine_size_na-vehicle_age_na-vehicle_weight_na"], ["climatiq_unit_of_measurement", "km"], ["category", "transport"], ["created_at", "2024-03-09 09:33:23.957035"], ["updated_at", "2024-03-09 09:33:23.957035"], ["climatiq_unit_type", "distance"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.3ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Bus"], ["climatiq_id", "passenger_vehicle-vehicle_type_bus-fuel_source_na-distance_na-engine_size_na"], ["climatiq_unit_of_measurement", "usd"], ["category", "transport"], ["created_at", "2024-03-09 09:33:23.962107"], ["updated_at", "2024-03-09 09:33:23.962107"], ["climatiq_unit_type", "money"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.1ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Car"], ["climatiq_id", "passenger_vehicle-vehicle_type_car-fuel_source_na-engine_size_na-vehicle_age_na-vehicle_weight_na"], ["climatiq_unit_of_measurement", "km"], ["category", "transport"], ["created_at", "2024-03-09 09:33:23.963494"], ["updated_at", "2024-03-09 09:33:23.963494"], ["climatiq_unit_type", "distance"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.1ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Fresh Fruit"], ["climatiq_id", "consumer_goods-type_fruit_fresh"], ["climatiq_unit_of_measurement", "t"], ["category", "food"], ["created_at", "2024-03-09 09:33:23.964820"], ["updated_at", "2024-03-09 09:33:23.964820"], ["climatiq_unit_type", "weight"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.1ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Beef"], ["climatiq_id", "consumer_goods-type_meat_products_beef"], ["climatiq_unit_of_measurement", "usd"], ["category", "food"], ["created_at", "2024-03-09 09:33:23.965931"], ["updated_at", "2024-03-09 09:33:23.965931"], ["climatiq_unit_type", "money"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.1ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Dairy Products"], ["climatiq_id", "consumer_goods-type_dairy_products"], ["climatiq_unit_of_measurement", "usd"], ["category", "food"], ["created_at", "2024-03-09 09:33:23.967002"], ["updated_at", "2024-03-09 09:33:23.967002"], ["climatiq_unit_type", "money"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."name" = ?[0m  [["name", "Motorcycle"]]
  [1m[36mActivity Load (0.7ms)[0m  [1m[34mSELECT "activities".* FROM "activities"[0m
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" ORDER BY "activity_types"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" ORDER BY "activity_types"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2024-03-09 23:27:10 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 425)
  Rendered layout layouts/application.html.erb (Duration: 948.6ms | Allocations: 134469)
Completed 200 OK in 997ms (Views: 954.0ms | ActiveRecord: 0.0ms | Allocations: 144285)


Started GET "/users" for 127.0.0.1 at 2024-03-09 23:27:22 +0800
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-09 23:27:26 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/devise-4.9.3/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/devise-4.9.3/app/views/devise/shared/_error_messages.html.erb (Duration: 0.9ms | Allocations: 237)
  Rendered /Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/devise-4.9.3/app/views/devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 585)
  Rendered /Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/devise-4.9.3/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 19.9ms | Allocations: 4367)
  Rendered layout layouts/application.html.erb (Duration: 31.5ms | Allocations: 10104)
Completed 200 OK in 45ms (Views: 34.7ms | ActiveRecord: 0.7ms | Allocations: 16557)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-09 23:28:07 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/devise-4.9.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/devise-4.9.3/app/views/devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 270)
  Rendered /Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/devise-4.9.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 9.5ms | Allocations: 2361)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 8085)
Completed 200 OK in 31ms (Views: 25.6ms | ActiveRecord: 0.0ms | Allocations: 9687)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-09 23:28:07 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/devise-4.9.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/devise-4.9.3/app/views/devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 136)
  Rendered /Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/devise-4.9.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1321)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 6969)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms | Allocations: 7574)


Started GET "/" for 127.0.0.1 at 2024-03-10 16:09:25 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 293)
  Rendered layout layouts/application.html.erb (Duration: 176.6ms | Allocations: 51096)
Completed 200 OK in 211ms (Views: 183.9ms | ActiveRecord: 0.0ms | Allocations: 57242)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:09:33 +0800
  
ActionController::RoutingError (No route matches [GET] "/user/1"):
  
Started GET "/users/1" for 127.0.0.1 at 2024-03-10 16:09:49 +0800
  
ActionController::RoutingError (uninitialized constant UsersController):
  
Started GET "/users/1" for 127.0.0.1 at 2024-03-10 16:10:03 +0800
  
ActionController::RoutingError (uninitialized constant UsersController):
  
Started GET "/users/1" for 127.0.0.1 at 2024-03-10 16:10:04 +0800
  
ActionController::RoutingError (uninitialized constant UsersController):
  
Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:11:09 +0800
  
ActionController::RoutingError (No route matches [GET] "/user/1"):
  
Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:11:22 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1353)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 1441)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2110)


  
ActionView::Template::Error (uninitialized constant ClimatiqEstimationService::CLIMATIQ_API_KEY):
    1: <div>
    2:   <%= ClimatiqEstimationService.calculate_carbon_emissio(1, 200) %>
    3: </div>
  
app/services/climatiq_estimation_service.rb:4:in `<class:ClimatiqEstimationService>'
app/services/climatiq_estimation_service.rb:1:in `<main>'
app/views/user/show.html.erb:2
Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:14:27 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1915)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 2017)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 6191)


  
ActionView::Template::Error (undefined method `calculate_carbon_emissio' for class ClimatiqEstimationService):
    1: <div>
    2:   <%= ClimatiqEstimationService.calculate_carbon_emissio(1, 200) %>
    3: </div>
  
app/views/user/show.html.erb:2
Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:14:39 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Load (0.3ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 6375)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 6464)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.6ms | Allocations: 7292)


  
ActionView::Template::Error (Couldn't find Activity with 'id'=1):
    1: <div>
    2:   <%= ClimatiqEstimationService.calculate_carbon_emission(1, 200) %>
    3: </div>
  
app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
app/views/user/show.html.erb:2
Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:15:41 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 598.7ms | Allocations: 8604)
  Rendered layout layouts/application.html.erb (Duration: 707.1ms | Allocations: 59182)
Completed 200 OK in 710ms (Views: 707.6ms | ActiveRecord: 1.0ms | Allocations: 60151)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:16:12 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 247.0ms | Allocations: 5434)
  Rendered layout layouts/application.html.erb (Duration: 298.9ms | Allocations: 28158)
Completed 200 OK in 300ms (Views: 299.0ms | ActiveRecord: 0.7ms | Allocations: 28678)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:19:35 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 527.1ms | Allocations: 5345)
  Rendered layout layouts/application.html.erb (Duration: 563.5ms | Allocations: 28066)
Completed 200 OK in 565ms (Views: 563.5ms | ActiveRecord: 0.8ms | Allocations: 28584)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:24:54 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.7ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 611.1ms | Allocations: 1514)
  Rendered layout layouts/application.html.erb (Duration: 690.1ms | Allocations: 33704)
Completed 200 OK in 705ms (Views: 698.9ms | ActiveRecord: 0.7ms | Allocations: 34550)


Started GET "/user/app/assets/images/image.png" for 127.0.0.1 at 2024-03-10 16:24:55 +0800
  
ActionController::RoutingError (No route matches [GET] "/user/app/assets/images/image.png"):
  
Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:25:27 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 932.5ms | Allocations: 1551)
  Rendered layout layouts/application.html.erb (Duration: 950.4ms | Allocations: 7945)
Completed 200 OK in 953ms (Views: 951.7ms | ActiveRecord: 0.4ms | Allocations: 8791)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:25:29 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 215.8ms | Allocations: 1393)
  Rendered layout layouts/application.html.erb (Duration: 228.1ms | Allocations: 7224)
Completed 200 OK in 229ms (Views: 228.5ms | ActiveRecord: 0.2ms | Allocations: 7482)


Started GET "/Users/max/Desktop/University/BIT216/CarbonByte/app/assets/images/image.png" for 127.0.0.1 at 2024-03-10 16:25:29 +0800
  
ActionController::RoutingError (No route matches [GET] "/Users/max/Desktop/University/BIT216/CarbonByte/app/assets/images/image.png"):
  
Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:25:30 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 535.5ms | Allocations: 1438)
  Rendered layout layouts/application.html.erb (Duration: 561.6ms | Allocations: 7415)
Completed 200 OK in 563ms (Views: 562.1ms | ActiveRecord: 0.1ms | Allocations: 7674)


Started GET "/Users/max/Desktop/University/BIT216/CarbonByte/app/assets/images/image.png" for 127.0.0.1 at 2024-03-10 16:25:31 +0800
  
ActionController::RoutingError (No route matches [GET] "/Users/max/Desktop/University/BIT216/CarbonByte/app/assets/images/image.png"):
  
Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:25:55 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 550.8ms | Allocations: 10814)
  Rendered layout layouts/application.html.erb (Duration: 561.6ms | Allocations: 14293)
Completed 200 OK in 576ms (Views: 563.3ms | ActiveRecord: 0.6ms | Allocations: 18521)


Started GET "/user/app/assets/images/image.png" for 127.0.0.1 at 2024-03-10 16:25:56 +0800
  
ActionController::RoutingError (No route matches [GET] "/user/app/assets/images/image.png"):
  
Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:27:45 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 860.9ms | Allocations: 61870)
  Rendered layout layouts/application.html.erb (Duration: 864.4ms | Allocations: 63108)
Completed 200 OK in 877ms (Views: 870.4ms | ActiveRecord: 0.2ms | Allocations: 63954)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:28:16 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 501.9ms | Allocations: 2202)
  Rendered layout layouts/application.html.erb (Duration: 505.5ms | Allocations: 3429)
Completed 200 OK in 512ms (Views: 509.4ms | ActiveRecord: 0.5ms | Allocations: 4277)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:28:50 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 1099.2ms | Allocations: 47221)
  Rendered layout layouts/application.html.erb (Duration: 1113.2ms | Allocations: 50579)
Completed 200 OK in 1131ms (Views: 1116.9ms | ActiveRecord: 1.0ms | Allocations: 54486)


Started GET "/" for 127.0.0.1 at 2024-03-10 16:29:00 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 1159)
Completed 200 OK in 17ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 2987)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:29:08 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 506.8ms | Allocations: 2221)
  Rendered layout layouts/application.html.erb (Duration: 511.0ms | Allocations: 3436)
Completed 200 OK in 517ms (Views: 514.5ms | ActiveRecord: 0.2ms | Allocations: 4266)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:29:41 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 330.2ms | Allocations: 2196)
  Rendered layout layouts/application.html.erb (Duration: 333.5ms | Allocations: 3404)
Completed 200 OK in 354ms (Views: 349.3ms | ActiveRecord: 0.2ms | Allocations: 4232)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:30:29 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (1.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 223.7ms | Allocations: 2203)
  Rendered layout layouts/application.html.erb (Duration: 226.8ms | Allocations: 3420)
Completed 200 OK in 236ms (Views: 233.1ms | ActiveRecord: 1.1ms | Allocations: 4247)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:36:41 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 289.9ms | Allocations: 2354)
  Rendered layout layouts/application.html.erb (Duration: 293.4ms | Allocations: 3562)
Completed 200 OK in 311ms (Views: 305.6ms | ActiveRecord: 1.7ms | Allocations: 4387)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:37:00 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 450.9ms | Allocations: 2209)
  Rendered layout layouts/application.html.erb (Duration: 456.2ms | Allocations: 3426)
Completed 200 OK in 462ms (Views: 459.2ms | ActiveRecord: 0.6ms | Allocations: 4251)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:37:12 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 512.1ms | Allocations: 49650)
  Rendered layout layouts/application.html.erb (Duration: 524.3ms | Allocations: 53005)
Completed 200 OK in 536ms (Views: 524.9ms | ActiveRecord: 2.2ms | Allocations: 56912)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:37:15 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 339.6ms | Allocations: 2053)
  Rendered layout layouts/application.html.erb (Duration: 341.9ms | Allocations: 3017)
Completed 200 OK in 344ms (Views: 342.6ms | ActiveRecord: 0.3ms | Allocations: 3277)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:37:27 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 466.4ms | Allocations: 10545)
  Rendered layout layouts/application.html.erb (Duration: 471.2ms | Allocations: 13880)
Completed 200 OK in 481ms (Views: 472.8ms | ActiveRecord: 0.6ms | Allocations: 17787)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:39:06 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.7ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 232.7ms | Allocations: 1495)
  Rendered layout layouts/application.html.erb (Duration: 235.2ms | Allocations: 2459)
Completed 200 OK in 238ms (Views: 235.8ms | ActiveRecord: 0.7ms | Allocations: 2719)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:39:21 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 513.6ms | Allocations: 49944)
  Rendered layout layouts/application.html.erb (Duration: 634.9ms | Allocations: 102160)
Completed 200 OK in 656ms (Views: 638.1ms | ActiveRecord: 1.3ms | Allocations: 106067)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:39:30 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 492.3ms | Allocations: 2241)
  Rendered layout layouts/application.html.erb (Duration: 542.8ms | Allocations: 12152)
Completed 200 OK in 560ms (Views: 557.5ms | ActiveRecord: 0.1ms | Allocations: 12982)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:43:11 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (3.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 551.4ms | Allocations: 2194)
  Rendered layout layouts/application.html.erb (Duration: 587.4ms | Allocations: 9347)
Completed 200 OK in 606ms (Views: 592.5ms | ActiveRecord: 3.2ms | Allocations: 10173)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:43:17 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 376.0ms | Allocations: 2223)
  Rendered layout layouts/application.html.erb (Duration: 402.1ms | Allocations: 9380)
Completed 200 OK in 408ms (Views: 404.6ms | ActiveRecord: 0.4ms | Allocations: 10208)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:43:24 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 529.6ms | Allocations: 2187)
  Rendered layout layouts/application.html.erb (Duration: 564.9ms | Allocations: 12178)
Completed 200 OK in 571ms (Views: 568.1ms | ActiveRecord: 0.5ms | Allocations: 13005)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:43:28 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 165.6ms | Allocations: 2205)
  Rendered layout layouts/application.html.erb (Duration: 184.6ms | Allocations: 12117)
Completed 200 OK in 188ms (Views: 186.1ms | ActiveRecord: 0.1ms | Allocations: 12942)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:43:36 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 286.0ms | Allocations: 2223)
  Rendered layout layouts/application.html.erb (Duration: 302.9ms | Allocations: 9398)
Completed 200 OK in 328ms (Views: 326.3ms | ActiveRecord: 0.4ms | Allocations: 10223)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:43:43 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.8ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 200.8ms | Allocations: 2217)
  Rendered layout layouts/application.html.erb (Duration: 219.7ms | Allocations: 9323)
Completed 200 OK in 228ms (Views: 222.1ms | ActiveRecord: 0.8ms | Allocations: 10151)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:44:49 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.8ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 324.3ms | Allocations: 2184)
  Rendered layout layouts/application.html.erb (Duration: 354.5ms | Allocations: 12163)
Completed 200 OK in 381ms (Views: 370.3ms | ActiveRecord: 0.8ms | Allocations: 12988)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:44:53 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 440.0ms | Allocations: 2208)
  Rendered layout layouts/application.html.erb (Duration: 471.5ms | Allocations: 12132)
Completed 200 OK in 486ms (Views: 479.9ms | ActiveRecord: 0.3ms | Allocations: 12957)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:45:10 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.7ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 361.9ms | Allocations: 2225)
  Rendered layout layouts/application.html.erb (Duration: 385.0ms | Allocations: 9371)
Completed 200 OK in 399ms (Views: 389.3ms | ActiveRecord: 0.7ms | Allocations: 10199)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:45:26 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 162.4ms | Allocations: 2207)
  Rendered layout layouts/application.html.erb (Duration: 188.6ms | Allocations: 12169)
Completed 200 OK in 192ms (Views: 190.4ms | ActiveRecord: 0.5ms | Allocations: 12996)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:45:44 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 616.8ms | Allocations: 2184)
  Rendered layout layouts/application.html.erb (Duration: 665.9ms | Allocations: 12129)
Completed 200 OK in 670ms (Views: 668.2ms | ActiveRecord: 0.4ms | Allocations: 12954)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:46:21 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 386.8ms | Allocations: 2294)
  Rendered layout layouts/application.html.erb (Duration: 405.6ms | Allocations: 9447)
Completed 200 OK in 410ms (Views: 407.5ms | ActiveRecord: 0.5ms | Allocations: 10275)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:46:30 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (1.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 382.0ms | Allocations: 2187)
  Rendered layout layouts/application.html.erb (Duration: 407.4ms | Allocations: 9275)
Completed 200 OK in 411ms (Views: 408.5ms | ActiveRecord: 1.0ms | Allocations: 10102)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:47:29 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 493.4ms | Allocations: 2206)
  Rendered layout layouts/application.html.erb (Duration: 523.0ms | Allocations: 9300)
Completed 200 OK in 528ms (Views: 524.9ms | ActiveRecord: 0.5ms | Allocations: 10125)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:47:31 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 169.9ms | Allocations: 2029)
  Rendered layout layouts/application.html.erb (Duration: 201.4ms | Allocations: 8886)
Completed 200 OK in 204ms (Views: 202.4ms | ActiveRecord: 0.2ms | Allocations: 9145)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:47:40 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 795)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 7881)
Completed 200 OK in 23ms (Views: 16.6ms | ActiveRecord: 0.0ms | Allocations: 8710)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:48:05 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 288.9ms | Allocations: 2228)
  Rendered layout layouts/application.html.erb (Duration: 307.6ms | Allocations: 9308)
Completed 200 OK in 315ms (Views: 309.6ms | ActiveRecord: 0.5ms | Allocations: 10135)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:48:13 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 299.5ms | Allocations: 48026)
  Rendered layout layouts/application.html.erb (Duration: 328.1ms | Allocations: 74496)
Completed 200 OK in 339ms (Views: 329.8ms | ActiveRecord: 0.8ms | Allocations: 78403)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:48:14 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 265.7ms | Allocations: 2047)
  Rendered layout layouts/application.html.erb (Duration: 278.5ms | Allocations: 8873)
Completed 200 OK in 280ms (Views: 279.2ms | ActiveRecord: 0.2ms | Allocations: 9133)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:48:34 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 161.0ms | Allocations: 2194)
  Rendered layout layouts/application.html.erb (Duration: 182.3ms | Allocations: 9370)
Completed 200 OK in 186ms (Views: 184.6ms | ActiveRecord: 0.2ms | Allocations: 10200)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:48:39 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 549.1ms | Allocations: 2234)
  Rendered layout layouts/application.html.erb (Duration: 581.1ms | Allocations: 12188)
Completed 200 OK in 590ms (Views: 587.4ms | ActiveRecord: 0.2ms | Allocations: 13018)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:48:44 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 176.8ms | Allocations: 2208)
  Rendered layout layouts/application.html.erb (Duration: 186.1ms | Allocations: 9284)
Completed 200 OK in 199ms (Views: 195.6ms | ActiveRecord: 0.2ms | Allocations: 10109)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:48:49 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 181.3ms | Allocations: 2185)
  Rendered layout layouts/application.html.erb (Duration: 213.7ms | Allocations: 12133)
Completed 200 OK in 222ms (Views: 217.9ms | ActiveRecord: 0.3ms | Allocations: 12958)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:49:00 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 185.4ms | Allocations: 2226)
  Rendered layout layouts/application.html.erb (Duration: 216.3ms | Allocations: 12293)
Completed 200 OK in 220ms (Views: 218.5ms | ActiveRecord: 0.1ms | Allocations: 13121)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:49:22 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 276.5ms | Allocations: 2190)
  Rendered layout layouts/application.html.erb (Duration: 291.5ms | Allocations: 9296)
Completed 200 OK in 315ms (Views: 306.6ms | ActiveRecord: 0.2ms | Allocations: 10123)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 16:49:23 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 225.7ms | Allocations: 2051)
  Rendered layout layouts/application.html.erb (Duration: 237.0ms | Allocations: 8889)
Completed 200 OK in 239ms (Views: 237.7ms | ActiveRecord: 0.2ms | Allocations: 9147)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 17:13:57 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
Completed 404 Not Found in 11ms (ActiveRecord: 3.5ms | Allocations: 2511)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/user_controller.rb:3:in `show'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUsernameToUsers (20240310091448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "users" ADD "username" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240310091448"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/use" for 127.0.0.1 at 2024-03-10 17:17:01 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/use"):
  
Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-10 17:17:08 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.5ms | Allocations: 219)
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 549)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3610)
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | Allocations: 27518)
Completed 200 OK in 37ms (Views: 28.8ms | ActiveRecord: 0.4ms | Allocations: 33089)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-10 17:18:33 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.9ms | Allocations: 205)
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 481)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 2743)
  Rendered layout layouts/application.html.erb (Duration: 29.3ms | Allocations: 10034)
Completed 200 OK in 50ms (Views: 36.9ms | ActiveRecord: 0.0ms | Allocations: 11223)


Started POST "/users" for 127.0.0.1 at 2024-03-10 17:18:53 +0800
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"maxyeap", "email"=>"max.yongtuck@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
[31mUnpermitted parameter: :username. Context: { controller: Devise::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00000001246d7098>, params: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"maxyeap", "email"=>"max.yongtuck@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up", "controller"=>"devise/registrations", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "max.yongtuck@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.5ms | Allocations: 537)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 80)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2583)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 9557)
Completed 422 Unprocessable Entity in 1083ms (Views: 9.8ms | ActiveRecord: 0.7ms | Allocations: 18162)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-10 17:20:06 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.7ms | Allocations: 228)
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 550)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 15.7ms | Allocations: 4390)
  Rendered layout layouts/application.html.erb (Duration: 275.3ms | Allocations: 65187)
Completed 200 OK in 327ms (Views: 287.9ms | ActiveRecord: 1.8ms | Allocations: 75508)


Started POST "/users" for 127.0.0.1 at 2024-03-10 17:20:17 +0800
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"maxyeap", "email"=>"max.yongtuck@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "max.yongtuck@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "maxyeap"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "max.yongtuck@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2024-03-10 09:20:17.564836"], ["updated_at", "2024-03-10 09:20:17.564836"], ["username", "maxyeap"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 472ms (ActiveRecord: 5.6ms | Allocations: 11796)


Started GET "/" for 127.0.0.1 at 2024-03-10 17:20:17 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 90)
  Rendered layout layouts/application.html.erb (Duration: 40.8ms | Allocations: 10403)
Completed 200 OK in 47ms (Views: 42.0ms | ActiveRecord: 0.0ms | Allocations: 12544)


Started GET "/" for 127.0.0.1 at 2024-03-10 17:20:17 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 7031)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 7297)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 17:20:23 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 629.2ms | Allocations: 7715)
  Rendered layout layouts/application.html.erb (Duration: 643.4ms | Allocations: 14671)
Completed 200 OK in 651ms (Views: 644.7ms | ActiveRecord: 1.0ms | Allocations: 16643)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 17:21:38 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 271.4ms | Allocations: 2204)
  Rendered layout layouts/application.html.erb (Duration: 292.7ms | Allocations: 12205)
Completed 200 OK in 297ms (Views: 294.3ms | ActiveRecord: 0.3ms | Allocations: 13535)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 17:22:11 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 451.3ms | Allocations: 2201)
  Rendered layout layouts/application.html.erb (Duration: 501.9ms | Allocations: 12398)
Completed 200 OK in 509ms (Views: 503.9ms | ActiveRecord: 0.4ms | Allocations: 13710)


Started GET "/user/1" for 127.0.0.1 at 2024-03-10 17:23:26 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 258.1ms | Allocations: 2239)
  Rendered layout layouts/application.html.erb (Duration: 270.1ms | Allocations: 9441)
Completed 200 OK in 277ms (Views: 272.0ms | ActiveRecord: 0.3ms | Allocations: 10756)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.7ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Electricity"], ["climatiq_id", "electricity-supply_grid-source_supplier_mix"], ["climatiq_unit_of_measurement", "kWh"], ["category", "energy"], ["created_at", "2024-03-10 09:39:20.105809"], ["updated_at", "2024-03-10 09:39:20.105809"], ["climatiq_unit_type", "energy"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-10 19:09:03 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20240310095732_create_user_preferences_join_table.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUserPreferencesJoinTable (20240310095732)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "user_preferences" ("user_id" integer NOT NULL, "activity_type_id" integer NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_user_id_and_activity_type_id" ON "user_preferences" ("user_id", "activity_type_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_activity_type_id_and_user_id" ON "user_preferences" ("activity_type_id", "user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240310095732"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-10 19:09:26 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.5ms | Allocations: 219)
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 551)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4120)
  Rendered layout layouts/application.html.erb (Duration: 54.9ms | Allocations: 56170)
Completed 200 OK in 67ms (Views: 56.7ms | ActiveRecord: 0.4ms | Allocations: 64287)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-10 19:09:31 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 234)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 2030)
  Rendered layout layouts/application.html.erb (Duration: 59.4ms | Allocations: 9004)
Completed 200 OK in 75ms (Views: 68.6ms | ActiveRecord: 0.0ms | Allocations: 10286)


Started POST "/users" for 127.0.0.1 at 2024-03-10 19:09:31 +0800
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"maxyeap", "email"=>"lancau@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "lancau@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "maxyeap"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 632ms (ActiveRecord: 0.6ms | Allocations: 12709)


  
NoMethodError (undefined method `read_attribute' for an instance of ActiveRecord::Associations::CollectionProxy):
  
activerecord (7.0.8) lib/active_record/relation/delegation.rb:110:in `method_missing'
activerecord (7.0.8) lib/active_record/relation.rb:46:in `bind_attribute'
activerecord (7.0.8) lib/active_record/validations/uniqueness.rb:69:in `build_relation'
activerecord (7.0.8) lib/active_record/validations/uniqueness.rb:23:in `validate_each'
activemodel (7.0.8) lib/active_model/validator.rb:153:in `block in validate'
activemodel (7.0.8) lib/active_model/validator.rb:149:in `each'
activemodel (7.0.8) lib/active_model/validator.rb:149:in `validate'
activesupport (7.0.8) lib/active_support/callbacks.rb:423:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:687:in `block (2 levels) in default_terminator'
activesupport (7.0.8) lib/active_support/callbacks.rb:686:in `catch'
activesupport (7.0.8) lib/active_support/callbacks.rb:686:in `block in default_terminator'
activesupport (7.0.8) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:106:in `run_callbacks'
activesupport (7.0.8) lib/active_support/callbacks.rb:929:in `_run_validate_callbacks'
activemodel (7.0.8) lib/active_model/validations.rb:406:in `run_validations!'
activemodel (7.0.8) lib/active_model/validations/callbacks.rb:115:in `block in run_validations!'
activesupport (7.0.8) lib/active_support/callbacks.rb:107:in `run_callbacks'
activesupport (7.0.8) lib/active_support/callbacks.rb:929:in `_run_validation_callbacks'
activemodel (7.0.8) lib/active_model/validations/callbacks.rb:115:in `run_validations!'
activemodel (7.0.8) lib/active_model/validations.rb:337:in `valid?'
activerecord (7.0.8) lib/active_record/validations.rb:68:in `valid?'
activerecord (7.0.8) lib/active_record/validations.rb:84:in `perform_validations'
activerecord (7.0.8) lib/active_record/validations.rb:47:in `save'
activerecord (7.0.8) lib/active_record/transactions.rb:298:in `block in save'
activerecord (7.0.8) lib/active_record/transactions.rb:354:in `block in with_transaction_returning_status'
activerecord (7.0.8) lib/active_record/connection_adapters/abstract/transaction.rb:319:in `block in within_new_transaction'
activesupport (7.0.8) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
activesupport (7.0.8) lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
activesupport (7.0.8) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
activesupport (7.0.8) lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
activerecord (7.0.8) lib/active_record/connection_adapters/abstract/transaction.rb:317:in `within_new_transaction'
activerecord (7.0.8) lib/active_record/connection_adapters/abstract/database_statements.rb:316:in `transaction'
activerecord (7.0.8) lib/active_record/transactions.rb:350:in `with_transaction_returning_status'
activerecord (7.0.8) lib/active_record/transactions.rb:298:in `save'
activerecord (7.0.8) lib/active_record/suppressor.rb:50:in `save'
devise (4.9.3) app/controllers/devise/registrations_controller.rb:19:in `create'
actionpack (7.0.8) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:118:in `block in run_callbacks'
turbo-rails (2.0.3) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.3) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
actiontext (7.0.8) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.8) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.8) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.8) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.8) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
actionpack (7.0.8) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.8) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-10 19:11:43 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | Allocations: 17)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1667)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 25444)
Completed 200 OK in 35ms (Views: 23.4ms | ActiveRecord: 2.6ms | Allocations: 29188)


Started POST "/users" for 127.0.0.1 at 2024-03-10 19:11:47 +0800
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"lancau", "email"=>"lancau@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "lancau@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "lancau@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2024-03-10 11:11:48.157215"], ["updated_at", "2024-03-10 11:11:48.157215"], ["username", "lancau"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 450ms (ActiveRecord: 4.6ms | Allocations: 7957)


Started GET "/" for 127.0.0.1 at 2024-03-10 19:11:48 +0800
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1826)


  
NoMethodError (undefined method `preferences' for an instance of User):
  
app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-10 19:12:20 +0800
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 4718)


Started GET "/" for 127.0.0.1 at 2024-03-10 19:12:20 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 1580)


  
NoMethodError (undefined method `preferences' for an instance of User):
  
app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Started GET "/" for 127.0.0.1 at 2024-03-10 19:15:33 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 17.6ms | Allocations: 18138)


  
NameError (undefined local variable or method `welcome_path' for an instance of DashboardController):
  
app/controllers/application_controller.rb:15:in `redirect_to_welcome_if_preferences_blank'
Started GET "/" for 127.0.0.1 at 2024-03-10 19:17:36 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 1.4ms | Allocations: 10178)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:17:36 +0800
  
ActionController::RoutingError (uninitialized constant IndexController):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:00 +0800
  
ActionController::RoutingError (uninitialized constant IndexController):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:01 +0800
  
ActionController::RoutingError (uninitialized constant IndexController):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:02 +0800
  
ActionController::RoutingError (uninitialized constant IndexController):
  
Started GET "/" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 17ms (ActiveRecord: 1.5ms | Allocations: 10008)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1980)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1928)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1925)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.1ms | Allocations: 1946)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1919)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1931)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.1ms | Allocations: 1946)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.1ms | Allocations: 1928)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 1925)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.1ms | Allocations: 1922)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1919)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1937)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1925)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1928)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.1ms | Allocations: 1943)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:58 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1937)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1940)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1928)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1940)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1928)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1943)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1937)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1940)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1955)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1943)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1928)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1922)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1952)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1916)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1952)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:18:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1925)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:00 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1922)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:00 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1928)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 1938)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1940)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1925)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.2ms | Allocations: 1937)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 1928)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1922)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.1ms | Allocations: 1937)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1922)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1928)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1931)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1922)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1946)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1940)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1937)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1931)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1925)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.3ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.2ms | Allocations: 1937)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1937)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1928)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1946)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1940)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1916)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1943)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1919)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1952)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1952)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1919)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1922)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1934)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1922)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1937)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1928)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1937)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:19:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1931)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:20:04 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1386)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1474)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.4ms | Allocations: 12098)


  
ActionView::Template::Error (undefined local variable or method `preferences_path' for an instance of #<Class:0x00000001290bb100>):
    1: <h1>Welcome to the App</h1>
    2: 
    3: <%= form_for(current_user, url: preferences_path) do |f| %>
    4:   <h2>Choose your preferences</h2>
    5: 
    6:   <div class="field">
  
app/views/preferences/new.html.erb:3
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:21:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 6364)
  Rendered layout layouts/application.html.erb (Duration: 87.0ms | Allocations: 58616)
Completed 200 OK in 99ms (Views: 87.4ms | ActiveRecord: 2.0ms | Allocations: 68982)


Started PATCH "/preferences" for 127.0.0.1 at 2024-03-10 19:21:08 +0800
  
ActionController::RoutingError (No route matches [PATCH] "/preferences"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:21:08 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 3031)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 10061)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.3ms | Allocations: 12134)


Started PATCH "/preferences" for 127.0.0.1 at 2024-03-10 19:22:31 +0800
  
ActionController::RoutingError (No route matches [PATCH] "/preferences"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:22:31 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3031)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 10061)
Completed 200 OK in 24ms (Views: 13.5ms | ActiveRecord: 1.1ms | Allocations: 12130)


  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" ORDER BY "activity_types"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" ORDER BY "activity_types"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" ORDER BY "activity_types"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser::HABTM_Preferences Create (1.9ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 2], ["activity_type_id", 1]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:30:34 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3238)
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 26982)
Completed 200 OK in 32ms (Views: 21.5ms | ActiveRecord: 0.9ms | Allocations: 37974)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:30:35 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 18.0ms | Allocations: 3041)
  Rendered layout layouts/application.html.erb (Duration: 43.5ms | Allocations: 9946)
Completed 200 OK in 48ms (Views: 43.5ms | ActiveRecord: 0.7ms | Allocations: 12029)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:30:36 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3041)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 9876)
Completed 200 OK in 15ms (Views: 11.3ms | ActiveRecord: 0.4ms | Allocations: 11960)


Started PATCH "/preferences" for 127.0.0.1 at 2024-03-10 19:30:39 +0800
  
ActionController::RoutingError (No route matches [PATCH] "/preferences"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:30:40 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 3041)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 10071)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.2ms | Allocations: 12168)


Started PATCH "/preferences" for 127.0.0.1 at 2024-03-10 19:30:43 +0800
  
ActionController::RoutingError (No route matches [PATCH] "/preferences"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:30:43 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 3041)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 10071)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.2ms | Allocations: 12138)


Started PATCH "/preferences" for 127.0.0.1 at 2024-03-10 19:30:43 +0800
  
ActionController::RoutingError (No route matches [PATCH] "/preferences"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:30:43 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 3041)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 10071)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 12150)


Started PATCH "/preferences" for 127.0.0.1 at 2024-03-10 19:30:45 +0800
  
ActionController::RoutingError (No route matches [PATCH] "/preferences"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:30:45 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 3041)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 10071)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.2ms | Allocations: 12171)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:32:12 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 3041)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 9879)
Completed 200 OK in 38ms (Views: 17.8ms | ActiveRecord: 0.5ms | Allocations: 11967)


Started GET "/welcom" for 127.0.0.1 at 2024-03-10 19:32:52 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcom"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:35:11 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.6ms | Allocations: 11640)


Started GET "/" for 127.0.0.1 at 2024-03-10 19:35:11 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 91)
  Rendered layout layouts/application.html.erb (Duration: 41.0ms | Allocations: 23827)
Completed 200 OK in 49ms (Views: 42.5ms | ActiveRecord: 0.1ms | Allocations: 27298)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:35:14 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms | Allocations: 1955)


Started GET "/" for 127.0.0.1 at 2024-03-10 19:35:14 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 6911)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.2ms | Allocations: 8977)


  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser::HABTM_Preferences Delete All (1.1ms)[0m  [1m[31mDELETE FROM "user_preferences" WHERE "user_preferences"."user_id" = ? AND "user_preferences"."activity_type_id" = ?[0m  [["user_id", 2], ["activity_type_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "lancau"], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/" for 127.0.0.1 at 2024-03-10 19:36:27 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 0.8ms | Allocations: 1974)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:36:27 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 14.4ms | Allocations: 3214)
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 10320)
Completed 200 OK in 33ms (Views: 28.0ms | ActiveRecord: 0.6ms | Allocations: 12639)


Started PATCH "/preferences" for 127.0.0.1 at 2024-03-10 19:36:31 +0800
  
ActionController::RoutingError (No route matches [PATCH] "/preferences"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:36:31 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 3031)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 10061)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.3ms | Allocations: 12150)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:37:13 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 4786)
  Rendered layout layouts/application.html.erb (Duration: 43.9ms | Allocations: 28503)
Completed 200 OK in 56ms (Views: 44.3ms | ActiveRecord: 1.7ms | Allocations: 38885)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:37:15 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 3031)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 9940)
Completed 200 OK in 24ms (Views: 10.8ms | ActiveRecord: 0.5ms | Allocations: 12045)


Started PATCH "/preferences" for 127.0.0.1 at 2024-03-10 19:37:18 +0800
  
AbstractController::ActionNotFound (The action 'update' could not be found for PreferencesController):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionview (7.0.8) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
actionpack (7.0.8) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.8) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:37:18 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:8
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:18
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:28
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 3031)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 10061)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.2ms | Allocations: 12174)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:45:17 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  Rendered preferences/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 1155)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 1243)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 2.9ms | Allocations: 10862)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <h1>Welcome to the App</h1>
    2: 
    3: <%= form_for @user, url: preferences_path, method: :patch do |f| %>
    4:   <h3>Select Preferences:</h3>
    5:   <%= f.collection_check_boxes :activity_type_ids, ActivityType.all, :id, :name do |b| %>
    6:     <%= b.check_box %>
  
app/views/preferences/new.html.erb:3
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:45:27 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  Rendered preferences/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 992)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 1079)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.3ms | Allocations: 3134)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <h1>Welcome to the App</h1>
    2: 
    3: <%= form_for @user, url: preferences_path, method: :patch do |f| %>
    4:   <h3>Select Preferences:</h3>
    5:   <%= f.collection_check_boxes :activity_type_ids, ActivityType.all, :id, :name do |b| %>
    6:     <%= b.check_box %>
  
app/views/preferences/new.html.erb:3
Started GET "/" for 127.0.0.1 at 2024-03-10 19:45:33 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 2054)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:45:33 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  Rendered preferences/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 992)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 1079)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3147)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <h1>Welcome to the App</h1>
    2: 
    3: <%= form_for @user, url: preferences_path, method: :patch do |f| %>
    4:   <h3>Select Preferences:</h3>
    5:   <%= f.collection_check_boxes :activity_type_ids, ActivityType.all, :id, :name do |b| %>
    6:     <%= b.check_box %>
  
app/views/preferences/new.html.erb:3
Started GET "/" for 127.0.0.1 at 2024-03-10 19:45:39 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1959)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:45:39 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  Rendered preferences/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 992)
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 1079)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3129)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <h1>Welcome to the App</h1>
    2: 
    3: <%= form_for @user, url: preferences_path, method: :patch do |f| %>
    4:   <h3>Select Preferences:</h3>
    5:   <%= f.collection_check_boxes :activity_type_ids, ActivityType.all, :id, :name do |b| %>
    6:     <%= b.check_box %>
  
app/views/preferences/new.html.erb:3
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:47:53 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4510)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 4598)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.8ms | Allocations: 15338)


  
ActionView::Template::Error (undefined method `activity_type_ids' for an instance of User):
    3: <%= form_for @user, url: preferences_path, method: :post do |f| %>
    4:   <h3>Select Preferences:</h3>
    5:   <%= f.collection_check_boxes :activity_type_ids, ActivityType.all, :id, :name do |b| %>
    6:     <%= b.check_box %>
    7:     <%= b.label %><br>
    8:   <% end %>
    9:   <%= f.submit "Update Preferences" %>
  
app/views/preferences/new.html.erb:6
app/views/preferences/new.html.erb:5
app/views/preferences/new.html.erb:3
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:48:58 +0800
  
ArgumentError (No association found for name `user_preferences'. Has it been defined yet?):
  
app/models/user.rb:11:in `<class:User>'
app/models/user.rb:1:in `<main>'
config/routes.rb:2:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:48:59 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:49:00 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:49:03 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:49:03 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:49:04 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:49:04 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:49:04 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:49:06 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:49:21 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:49:22 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/w" for 127.0.0.1 at 2024-03-10 19:49:24 +0800
  
ActionController::RoutingError (No route matches [GET] "/w"):
  
Started GET "/" for 127.0.0.1 at 2024-03-10 19:49:27 +0800
  
ActionController::RoutingError (No route matches [GET] "/"):
  
Started GET "/adasd" for 127.0.0.1 at 2024-03-10 19:49:29 +0800
  
ActionController::RoutingError (No route matches [GET] "/adasd"):
  
Started GET "/adasd" for 127.0.0.1 at 2024-03-10 19:50:22 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/adasd"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:50:26 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 1.6ms | Allocations: 18105)


  
NoMethodError (undefined method `user_preferences' for an instance of User):
  
app/controllers/preferences_controller.rb:6:in `new'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:50:51 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.3ms | Allocations: 2310)


  
NoMethodError (undefined method `user_preferences' for an instance of User):
  
app/controllers/preferences_controller.rb:6:in `new'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:50:52 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (1.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2650)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 2738)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 2.6ms | Allocations: 16838)


  
ActionView::Template::Error (undefined method `activity_type_ids' for an instance of User):
    3: <%= form_for @user, url: preferences_path, method: :post do |f| %>
    4:   <h3>Select Preferences:</h3>
    5:   <%= f.collection_check_boxes :activity_type_ids, ActivityType.all, :id, :name do |b| %>
    6:     <%= b.check_box %>
    7:     <%= b.label %><br>
    8:   <% end %>
    9:   <%= f.submit "Update Preferences" %>
  
app/views/preferences/new.html.erb:6
app/views/preferences/new.html.erb:5
app/views/preferences/new.html.erb:3
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:52:08 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 22.9ms | Allocations: 14740)
  Rendered layout layouts/application.html.erb (Duration: 105.8ms | Allocations: 66960)
Completed 200 OK in 118ms (Views: 107.8ms | ActiveRecord: 0.4ms | Allocations: 69909)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 19:52:13 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["", "1", "4", "6"]}, "commit"=>"Update Preferences"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 2137)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:52:13 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2632)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 9732)
Completed 200 OK in 16ms (Views: 11.4ms | ActiveRecord: 0.3ms | Allocations: 12669)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:52:51 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 4094)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 27824)
Completed 200 OK in 32ms (Views: 19.0ms | ActiveRecord: 1.7ms | Allocations: 38198)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 19:52:53 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["", "2", "4", "6"]}, "commit"=>"Update Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 2053)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:52:53 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2347)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 9256)
Completed 200 OK in 13ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 11350)


  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:55:59 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 4094)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 27809)
Completed 200 OK in 30ms (Views: 19.1ms | ActiveRecord: 1.6ms | Allocations: 38198)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:56:00 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2347)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 9378)
Completed 200 OK in 18ms (Views: 12.4ms | ActiveRecord: 0.4ms | Allocations: 11449)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 19:56:04 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["", "1", "3", "5"]}, "commit"=>"Update Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 2006)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:56:04 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2340)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 9192)
Completed 200 OK in 22ms (Views: 14.8ms | ActiveRecord: 0.4ms | Allocations: 11304)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:56:34 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 4094)
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | Allocations: 27810)
Completed 200 OK in 33ms (Views: 22.7ms | ActiveRecord: 1.5ms | Allocations: 38174)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:56:35 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 8.9ms | Allocations: 2354)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | Allocations: 9197)
Completed 200 OK in 43ms (Views: 31.6ms | ActiveRecord: 0.4ms | Allocations: 11286)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 19:56:37 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["", "1", "4"]}, "commit"=>"Update Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2051)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:56:37 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2347)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 9186)
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 0.3ms | Allocations: 11265)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:58:03 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2340)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 9166)
Completed 200 OK in 21ms (Views: 10.2ms | ActiveRecord: 0.3ms | Allocations: 11268)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 19:58:13 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["", "1", "4", "7"]}, "commit"=>"Update Preferences"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 2005)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 19:58:13 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 2347)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 9378)
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 0.2ms | Allocations: 11457)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:00:03 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 4094)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 27810)
Completed 200 OK in 29ms (Views: 18.3ms | ActiveRecord: 1.7ms | Allocations: 38163)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:00:05 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2347)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 9378)
Completed 200 OK in 18ms (Views: 13.5ms | ActiveRecord: 0.4ms | Allocations: 11478)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:00:15 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["", "1", "4", "6"]}, "commit"=>"Update Preferences"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 2027)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:00:15 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 2340)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 9207)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.2ms | Allocations: 11285)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:02:38 +0800
Processing by PreferencesController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 406 Not Acceptable in 15ms (ActiveRecord: 1.4ms | Allocations: 10716)


  
ActionController::MissingExactTemplate (PreferencesController#edit is missing a template for request formats: text/html):
  
actionpack (7.0.8) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.8) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:118:in `block in run_callbacks'
turbo-rails (2.0.3) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.3) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
actiontext (7.0.8) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.8) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.8) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.8) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
actionpack (7.0.8) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.8) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:02:43 +0800
Processing by PreferencesController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 406 Not Acceptable in 4ms (ActiveRecord: 0.2ms | Allocations: 2382)


  
ActionController::MissingExactTemplate (PreferencesController#edit is missing a template for request formats: text/html):
  
actionpack (7.0.8) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.8) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:118:in `block in run_callbacks'
turbo-rails (2.0.3) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.3) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
actiontext (7.0.8) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.8) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.8) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.8) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
actionpack (7.0.8) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.8) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:04:26 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  Rendered preferences/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1137)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1225)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.4ms | Allocations: 11739)


  
ActionView::Template::Error (undefined local variable or method `preferences_path' for an instance of #<Class:0x000000012eeb4108>):
    1: <h1>Welcome to the App</h1>
    2: 
    3: <%= form_for @user, url: preferences_path, method: :patch do |f| %>
    4:   <h3>Select Preferences:</h3>
    5:   <%= f.collection_check_boxes :preference_ids, ActivityType.all, :id, :name do |b| %>
    6:     <%= b.check_box %>
  
app/views/preferences/new.html.erb:3
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:05:19 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1659)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 1761)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 1.3ms | Allocations: 20712)


  
ActionView::Template::Error (undefined local variable or method `preferences_path' for an instance of #<Class:0x0000000122dd7ef8>):
    1: <h1>Welcome to the App</h1>
    2: 
    3: <%= form_for @user, url: preferences_path, method: :patch do |f| %>
    4:   <h3>Select Preferences:</h3>
    5:   <%= f.collection_check_boxes :preference_ids, ActivityType.all, :id, :name do |b| %>
    6:     <%= b.check_box %>
  
app/views/preferences/new.html.erb:3
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:06:38 +0800
  
AbstractController::ActionNotFound (The action 'new' could not be found for PreferencesController):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionview (7.0.8) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
actionpack (7.0.8) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.8) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:06:53 +0800
Processing by PreferencesController#update as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 400 Bad Request in 11ms (ActiveRecord: 1.3ms | Allocations: 10375)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/preferences_controller.rb:21:in `user_params'
app/controllers/preferences_controller.rb:10:in `update'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:07:51 +0800
Processing by PreferencesController#update as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.4ms | Allocations: 10301)


  
NameError (undefined local variable or method `user_params' for an instance of PreferencesController):
  
app/controllers/preferences_controller.rb:10:in `update'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:08:03 +0800
Processing by PreferencesController#update as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 400 Bad Request in 11ms (ActiveRecord: 1.4ms | Allocations: 10361)


  
ActionController::ParameterMissing (param is missing or the value is empty: preferences):
  
app/controllers/preferences_controller.rb:21:in `preferences_params'
app/controllers/preferences_controller.rb:10:in `update'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:12:31 +0800
  
AbstractController::ActionNotFound (The action 'update' could not be found for PreferencesController):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionview (7.0.8) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
actionpack (7.0.8) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.8) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:12:32 +0800
  
AbstractController::ActionNotFound (The action 'update' could not be found for PreferencesController):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionview (7.0.8) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
actionpack (7.0.8) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.8) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:12:57 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:12:57 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:12:58 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:13:04 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.8ms | Allocations: 10252)


  
NameError (undefined local variable or method `welcome_path' for an instance of PreferencesController):
  
app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:13:40 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 1.4ms | Allocations: 10109)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:13:40 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1680)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 1768)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.1ms | Allocations: 7702)


  
ActionView::Template::Error (undefined method `activity_type_ids' for an instance of ActivityType):
    4:   <h3>Select Preferences:</h3>
    5:   <% @user.preferences.each do |preference| %>
    6:     <%= form.fields_for :preferences, preference do |preference_form| %>
    7:       <%= preference_form.collection_select :activity_type_ids, ActivityType.all, :id, :name, {}, { multiple: true } %>
    8:     <% end %>
    9:   <% end %>
   10:   <%= form.submit "Save Preferences" %>
  
app/views/preferences/new.html.erb:7
app/views/preferences/new.html.erb:6
app/views/preferences/new.html.erb:5
app/views/preferences/new.html.erb:3
Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:16:04 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1910)
  Rendered layout layouts/application.html.erb (Duration: 68.1ms | Allocations: 54069)
Completed 200 OK in 82ms (Views: 69.9ms | ActiveRecord: 1.2ms | Allocations: 57010)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:16:08 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "preference_ids"=>["1", "4", "6"], "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 2048)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:16:08 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1436)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 8469)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.2ms | Allocations: 10841)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:16:30 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1840)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 25607)
Completed 200 OK in 32ms (Views: 17.9ms | ActiveRecord: 1.7ms | Allocations: 38234)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:16:30 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1436)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 8476)
Completed 200 OK in 26ms (Views: 11.1ms | ActiveRecord: 0.4ms | Allocations: 10815)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:16:33 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "preference_ids"=>["1", "4"], "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2030)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:16:33 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1436)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 8456)
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 0.3ms | Allocations: 10807)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:16:54 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 2180)
  Rendered layout layouts/application.html.erb (Duration: 63.1ms | Allocations: 54292)
Completed 200 OK in 113ms (Views: 65.5ms | ActiveRecord: 2.3ms | Allocations: 78208)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:16:56 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "preference_ids"=>["2", "6"], "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/welcome
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.3ms | Allocations: 2171)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:16:56 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1436)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 8345)
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 10707)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:17:12 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1590)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 25303)
Completed 200 OK in 27ms (Views: 14.9ms | ActiveRecord: 1.7ms | Allocations: 37566)


Started GET "/welcome" for 127.0.0.1 at 2024-03-10 20:17:33 +0800
  
ActionController::RoutingError (No route matches [GET] "/welcome"):
  
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:17:52 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.0ms | Allocations: 10342)


  
NameError (undefined local variable or method `welcome_path' for an instance of PreferencesController):
  
app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:18:08 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.3ms | Allocations: 10298)


  
NameError (undefined local variable or method `welcome_path' for an instance of PreferencesController):
  
app/controllers/application_controller.rb:15:in `redirect_to_welcome_if_preferences_blank'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:18:15 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 1.5ms | Allocations: 10087)


Started GET "/preferences" for 127.0.0.1 at 2024-03-10 20:18:15 +0800
  
ActionController::RoutingError (No route matches [GET] "/preferences"):
  
Started GET "/preferences" for 127.0.0.1 at 2024-03-10 20:18:16 +0800
  
ActionController::RoutingError (No route matches [GET] "/preferences"):
  
Started GET "/preferences" for 127.0.0.1 at 2024-03-10 20:18:17 +0800
  
ActionController::RoutingError (No route matches [GET] "/preferences"):
  
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:18:22 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms | Allocations: 1979)


Started GET "/preferences" for 127.0.0.1 at 2024-03-10 20:18:22 +0800
  
ActionController::RoutingError (No route matches [GET] "/preferences"):
  
Started GET "/preferences" for 127.0.0.1 at 2024-03-10 20:18:38 +0800
  
ActionController::RoutingError (No route matches [GET] "/preferences"):
  
Started GET "/preferences" for 127.0.0.1 at 2024-03-10 20:18:38 +0800
  
ActionController::RoutingError (No route matches [GET] "/preferences"):
  
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:18:42 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.0ms | Allocations: 10269)


  
NameError (undefined local variable or method `new_preferences_path' for an instance of PreferencesController):
  
app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:18:43 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2309)


  
NameError (undefined local variable or method `new_preferences_path' for an instance of PreferencesController):
  
app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:18:52 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.9ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1590)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 25372)
Completed 200 OK in 33ms (Views: 20.7ms | ActiveRecord: 2.3ms | Allocations: 37638)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:18:55 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "preference_ids"=>["1", "4", "7"], "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences/new
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2034)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:18:55 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/application_controller.rb:14:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1436)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 8345)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 10666)


Started GET "/preferences/ne" for 127.0.0.1 at 2024-03-10 20:19:37 +0800
  
ActionController::RoutingError (No route matches [GET] "/preferences/ne"):
  
Started GET "/preferences/ne" for 127.0.0.1 at 2024-03-10 20:21:02 +0800
  
ActionController::RoutingError (No route matches [GET] "/preferences/ne"):
  
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:21:05 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1604)
  Rendered layout layouts/application.html.erb (Duration: 30.8ms | Allocations: 25317)
Completed 200 OK in 56ms (Views: 31.2ms | ActiveRecord: 3.2ms | Allocations: 37929)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:21:08 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "preference_ids"=>["1", "4", "6"], "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 4ms (ActiveRecord: 0.2ms | Allocations: 1976)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/preferences_controller.rb:22:in `preferences_params'
app/controllers/preferences_controller.rb:12:in `create'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:21:08 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1445)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 8475)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.2ms | Allocations: 11241)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:21:34 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1604)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 25315)
Completed 200 OK in 30ms (Views: 17.3ms | ActiveRecord: 1.8ms | Allocations: 37895)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:21:34 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1445)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 8271)
Completed 200 OK in 14ms (Views: 7.9ms | ActiveRecord: 0.4ms | Allocations: 11015)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:21:37 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "preference_ids"=>["1", "4", "6"], "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 5ms (ActiveRecord: 0.2ms | Allocations: 1932)


  
ActionController::ParameterMissing (param is missing or the value is empty: preferences):
  
app/controllers/preferences_controller.rb:22:in `preferences_params'
app/controllers/preferences_controller.rb:12:in `create'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:21:37 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1445)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 8475)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.2ms | Allocations: 11214)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:21:49 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1604)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 25314)
Completed 200 OK in 32ms (Views: 18.8ms | ActiveRecord: 1.7ms | Allocations: 37903)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:21:50 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1445)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 8271)
Completed 200 OK in 19ms (Views: 12.3ms | ActiveRecord: 0.6ms | Allocations: 11009)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:21:52 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "preference_ids"=>["1", "4"], "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[31mUnpermitted parameters: :authenticity_token, :preference_ids, :commit. Context: { controller: PreferencesController, action: create, request: #<ActionDispatch::Request:0x0000000122c50788>, params: {"authenticity_token"=>"[FILTERED]", "preference_ids"=>["1", "4"], "commit"=>"Save Preferences", "controller"=>"preferences", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/preferences_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "lancau"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/preferences_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/preferences_controller.rb:12:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 19ms (ActiveRecord: 0.5ms | Allocations: 4901)


Started GET "/" for 127.0.0.1 at 2024-03-10 20:21:52 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 91)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 7374)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 9011)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/" for 127.0.0.1 at 2024-03-10 20:22:30 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 23715)
Completed 200 OK in 20ms (Views: 17.3ms | ActiveRecord: 0.0ms | Allocations: 25734)


Started GET "/" for 127.0.0.1 at 2024-03-10 20:22:32 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 7222)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.0ms | Allocations: 7489)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:22:33 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1602)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 8665)
Completed 200 OK in 24ms (Views: 7.7ms | ActiveRecord: 3.2ms | Allocations: 20717)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:22:36 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "preference_ids"=>["1", "4"], "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 6ms (ActiveRecord: 0.2ms | Allocations: 1927)


  
ActionController::ParameterMissing (param is missing or the value is empty: preferences):
  
app/controllers/preferences_controller.rb:22:in `preferences_params'
app/controllers/preferences_controller.rb:12:in `create'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:22:36 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1445)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 8475)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.2ms | Allocations: 11208)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:23:41 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1931)
  Rendered layout layouts/application.html.erb (Duration: 27.6ms | Allocations: 25845)
Completed 200 OK in 50ms (Views: 28.6ms | ActiveRecord: 2.3ms | Allocations: 38834)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:23:43 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["1", "4", "7"]}, "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/preferences_controller.rb:12:in `create'
  [1m[36mActivityType Load (1.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" IN (?, ?, ?)[0m  [["id", 1], ["id", 4], ["id", 7]]
  ↳ app/controllers/preferences_controller.rb:12:in `create'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:12:in `create'
  [1m[36mUser::HABTM_Preferences Create (1.9ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 2], ["activity_type_id", 1]]
  ↳ app/controllers/preferences_controller.rb:12:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.1ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 2], ["activity_type_id", 4]]
  ↳ app/controllers/preferences_controller.rb:12:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.1ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 2], ["activity_type_id", 7]]
  ↳ app/controllers/preferences_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "lancau"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/preferences_controller.rb:12:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/preferences_controller.rb:12:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 32ms (ActiveRecord: 6.0ms | Allocations: 12421)


Started GET "/" for 127.0.0.1 at 2024-03-10 20:23:43 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 84)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 7341)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 9001)


  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:24:11 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/preferences/new.html.erb:5
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1505)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 8518)
Completed 200 OK in 27ms (Views: 17.3ms | ActiveRecord: 0.4ms | Allocations: 11064)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:25:34 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1438)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 1526)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.9ms | Allocations: 14272)


  
ActionView::Template::Error (undefined method `group_by' for class ActivityType):
    4:   <!-- Include CSRF token for security -->
    5:   <%= csrf_meta_tags %>
    6: 
    7:   <% ActivityType.group_by(&:category).each do |category, activities| %>
    8:     <h3><%= category.capitalize %></h3>
    9:     <% activities.each do |activity_type| %>
   10:       <label>
  
app/views/preferences/new.html.erb:7
app/views/preferences/new.html.erb:3
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:26:11 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9
  Rendered preferences/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3332)
  Rendered layout layouts/application.html.erb (Duration: 112.3ms | Allocations: 34336)
Completed 200 OK in 126ms (Views: 114.6ms | ActiveRecord: 1.8ms | Allocations: 37426)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:26:57 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 3219)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 10386)
Completed 200 OK in 23ms (Views: 14.4ms | ActiveRecord: 0.5ms | Allocations: 13479)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:27:26 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3213)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 10303)
Completed 200 OK in 27ms (Views: 13.8ms | ActiveRecord: 0.5ms | Allocations: 13414)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:27:48 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["1", "2", "3", "4"]}, "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" IN (?, ?, ?, ?)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Delete All (1.3ms)[0m  [1m[31mDELETE FROM "user_preferences" WHERE "user_preferences"."user_id" = ? AND "user_preferences"."activity_type_id" = ?[0m  [["user_id", 2], ["activity_type_id", 7]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.1ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 2], ["activity_type_id", 2]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.1ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 2], ["activity_type_id", 3]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "lancau"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 44ms (ActiveRecord: 4.9ms | Allocations: 10668)


Started GET "/" for 127.0.0.1 at 2024-03-10 20:27:48 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 7570)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.0ms | Allocations: 9500)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/" for 127.0.0.1 at 2024-03-10 20:27:59 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 7359)
Completed 200 OK in 20ms (Views: 17.3ms | ActiveRecord: 0.0ms | Allocations: 8195)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:28:01 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3210)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 10098)
Completed 200 OK in 23ms (Views: 13.7ms | ActiveRecord: 0.7ms | Allocations: 12972)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:28:04 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 4ms (ActiveRecord: 0.1ms | Allocations: 1915)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/preferences_controller.rb:21:in `preferences_params'
app/controllers/preferences_controller.rb:11:in `create'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:28:04 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 2857)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 9886)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.3ms | Allocations: 12443)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:28:12 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 7ms (ActiveRecord: 0.2ms | Allocations: 1914)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/preferences_controller.rb:21:in `preferences_params'
app/controllers/preferences_controller.rb:11:in `create'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:28:12 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2857)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 9887)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.3ms | Allocations: 12443)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:28:12 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.1ms | Allocations: 1902)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/preferences_controller.rb:21:in `preferences_params'
app/controllers/preferences_controller.rb:11:in `create'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:28:12 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 2857)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 9886)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.3ms | Allocations: 12430)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:28:13 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 4ms (ActiveRecord: 0.2ms | Allocations: 1896)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/preferences_controller.rb:21:in `preferences_params'
app/controllers/preferences_controller.rb:11:in `create'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:28:13 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2857)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 9886)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.2ms | Allocations: 12424)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:28:30 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 14.3ms | Allocations: 2857)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 9683)
Completed 200 OK in 33ms (Views: 24.6ms | ActiveRecord: 0.9ms | Allocations: 12232)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:28:31 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2857)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 9683)
Completed 200 OK in 26ms (Views: 15.7ms | ActiveRecord: 1.3ms | Allocations: 12226)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:28:32 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 400 Bad Request in 3ms (ActiveRecord: 0.1ms | Allocations: 1929)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/preferences_controller.rb:21:in `preferences_params'
app/controllers/preferences_controller.rb:11:in `create'
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:28:32 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2857)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 9886)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.2ms | Allocations: 12457)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:28:35 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["3"]}, "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Delete All (1.2ms)[0m  [1m[31mDELETE FROM "user_preferences" WHERE "user_preferences"."user_id" = ? AND "user_preferences"."activity_type_id" IN (?, ?, ?)[0m  [["user_id", 2], ["activity_type_id", 1], ["activity_type_id", 2], ["activity_type_id", 4]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "lancau"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 17ms (ActiveRecord: 3.4ms | Allocations: 6948)


Started GET "/" for 127.0.0.1 at 2024-03-10 20:28:35 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 7029)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 7345)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:28:36 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2857)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 9683)
Completed 200 OK in 14ms (Views: 8.9ms | ActiveRecord: 0.4ms | Allocations: 12187)


  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:29:20 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3349)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 10642)
Completed 200 OK in 46ms (Views: 15.3ms | ActiveRecord: 0.7ms | Allocations: 13738)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:29:21 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 9758)
Completed 200 OK in 21ms (Views: 15.5ms | ActiveRecord: 0.8ms | Allocations: 12263)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:29:23 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["7"]}, "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Delete All (1.0ms)[0m  [1m[31mDELETE FROM "user_preferences" WHERE "user_preferences"."user_id" = ? AND "user_preferences"."activity_type_id" = ?[0m  [["user_id", 2], ["activity_type_id", 3]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.2ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 2], ["activity_type_id", 7]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "lancau"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 20ms (ActiveRecord: 3.1ms | Allocations: 7839)


Started GET "/" for 127.0.0.1 at 2024-03-10 20:29:23 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 84)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 7175)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 7802)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:29:29 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3345)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 10454)
Completed 200 OK in 36ms (Views: 15.7ms | ActiveRecord: 0.7ms | Allocations: 13527)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:30:47 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (1.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 3093)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 26804)
Completed 200 OK in 42ms (Views: 24.2ms | ActiveRecord: 2.6ms | Allocations: 39141)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:30:50 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 9758)
Completed 200 OK in 24ms (Views: 18.7ms | ActiveRecord: 0.8ms | Allocations: 12249)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-10 20:30:51 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 9843)
Completed 200 OK in 22ms (Views: 16.2ms | ActiveRecord: 0.7ms | Allocations: 12340)


Started GET "/preferences/" for 127.0.0.1 at 2024-03-10 20:30:54 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 9758)
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 0.4ms | Allocations: 12262)


Started GET "/preferences/" for 127.0.0.1 at 2024-03-10 20:31:04 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 15.9ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | Allocations: 9974)
Completed 200 OK in 45ms (Views: 25.3ms | ActiveRecord: 0.8ms | Allocations: 12501)


Started GET "/preferences/" for 127.0.0.1 at 2024-03-10 20:31:04 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 9907)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.3ms | Allocations: 12413)


Started GET "/preferences/" for 127.0.0.1 at 2024-03-10 20:31:05 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 9758)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.3ms | Allocations: 12253)


Started GET "/preferences/" for 127.0.0.1 at 2024-03-10 20:31:05 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 9961)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.3ms | Allocations: 12471)


Started GET "/preferences/" for 127.0.0.1 at 2024-03-10 20:31:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3093)
  Rendered layout layouts/application.html.erb (Duration: 31.2ms | Allocations: 26803)
Completed 200 OK in 45ms (Views: 32.1ms | ActiveRecord: 1.6ms | Allocations: 39182)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:31:08 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["7"]}, "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "lancau"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 22ms (ActiveRecord: 0.5ms | Allocations: 6123)


Started GET "/" for 127.0.0.1 at 2024-03-10 20:31:08 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 89)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 7249)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms | Allocations: 8920)


Started GET "/preferences/" for 127.0.0.1 at 2024-03-10 20:31:09 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 9758)
Completed 200 OK in 19ms (Views: 13.3ms | ActiveRecord: 0.6ms | Allocations: 12279)


Started POST "/preferences" for 127.0.0.1 at 2024-03-10 20:31:11 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["1", "7"]}, "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" IN (?, ?)[0m  [["id", 1], ["id", 7]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.6ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 2], ["activity_type_id", 1]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "lancau"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 20ms (ActiveRecord: 4.0ms | Allocations: 7841)


Started GET "/" for 127.0.0.1 at 2024-03-10 20:31:11 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 7088)
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.0ms | Allocations: 7357)


  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mActivityType Load (0.7ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/" for 127.0.0.1 at 2024-03-11 01:04:13 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 262)
  Rendered layout layouts/application.html.erb (Duration: 216.2ms | Allocations: 61809)
Completed 200 OK in 239ms (Views: 219.3ms | ActiveRecord: 0.0ms | Allocations: 67408)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-11 01:04:32 +0800
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 1.1ms | Allocations: 8720)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:04:32 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 6992)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.0ms | Allocations: 7259)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:05:15 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 90)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 7358)
Completed 200 OK in 20ms (Views: 17.3ms | ActiveRecord: 0.0ms | Allocations: 8200)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-11 01:05:17 +0800
  
ActionController::RoutingError (No route matches [GET] "/preferences/new"):
  
Started GET "/users/sign_out" for 127.0.0.1 at 2024-03-11 01:05:18 +0800
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
Started GET "/" for 127.0.0.1 at 2024-03-11 01:06:59 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 1385)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 2225)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html>
  <head>
    <title>CarbonByte</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>
        <div>
          <%= link_to 'Logout', destroy_user_session_path	(user),
  data: {turbo_method: :delete, turbo_confirm: 'Are you sure?'} %>
        </div>
    <main class="container mx-auto mt-28 px-5 flex flex-col">
      <%= yield %>
    </main>
  </body>
</html>

):
1:    <!DOCTYPE html>
2:    <html>
3:      <head>
4:        <title>CarbonByte</title>
5:        <meta name="viewport" content="width=device-width,initial-scale=1">
6:        <%= csrf_meta_tags %>
7:        <%= csp_meta_tag %>
8:        <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
9:    
10:        <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
11:        <%= javascript_importmap_tags %>
12:      </head>
13:    
14:      <body>
15:            <div>
16:              <%= link_to 'Logout', destroy_user_session_path	(user),
17:      data: {turbo_method: :delete, turbo_confirm: 'Are you sure?'} %>
18:            </div>
19:        <main class="container mx-auto mt-28 px-5 flex flex-col">
20:          <%= yield %>
21:        </main>
22:      </body>
23:    </html>
  
app/views/layouts/application.html.erb:16: syntax error, unexpected ( arg, expecting `do' or '{' or '('
app/views/layouts/application.html.erb:16: syntax error, unexpected ( arg, expecting `do' or '{' or '('
app/views/layouts/application.html.erb:16: syntax error, unexpected ( arg, expecting `do' or '{' or '('
app/views/layouts/application.html.erb:16: syntax error, unexpected ( arg, expecting `do' or '{' or '('
Started GET "/" for 127.0.0.1 at 2024-03-11 01:07:08 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 38.3ms | Allocations: 11457)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 0.0ms | Allocations: 12280)


  
ActionView::Template::Error (undefined local variable or method `user' for an instance of #<Class:0x000000012bc553d8>):
    13: 
    14:   <body>
    15:         <div>
    16:           <%= link_to 'Logout', destroy_user_session_path(user),
    17:   data: {turbo_method: :delete, turbo_confirm: 'Are you sure?'} %>
    18:         </div>
    19:     <main class="container mx-auto mt-28 px-5 flex flex-col">
  
app/views/layouts/application.html.erb:16
Started GET "/" for 127.0.0.1 at 2024-03-11 01:07:15 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 7567)
Completed 200 OK in 21ms (Views: 17.9ms | ActiveRecord: 0.0ms | Allocations: 8409)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:07:17 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 11ms (ActiveRecord: 0.2ms | Allocations: 2973)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:07:17 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 7072)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms | Allocations: 7388)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:07:32 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 58.3ms | Allocations: 7471)
Completed 200 OK in 83ms (Views: 74.7ms | ActiveRecord: 0.0ms | Allocations: 8308)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:07:35 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
Redirected to http://127.0.0.1:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 303 See Other in 2ms (ActiveRecord: 0.0ms | Allocations: 388)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:07:35 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 7122)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.0ms | Allocations: 7436)


Started GET "/n" for 127.0.0.1 at 2024-03-11 01:07:53 +0800
  
ActionController::RoutingError (No route matches [GET] "/n"):
  
Started GET "/" for 127.0.0.1 at 2024-03-11 01:08:56 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 7515)
Completed 200 OK in 43ms (Views: 29.8ms | ActiveRecord: 0.0ms | Allocations: 8351)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:08:59 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
Redirected to http://127.0.0.1:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 303 See Other in 2ms (ActiveRecord: 0.0ms | Allocations: 399)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:08:59 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 7050)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 7364)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:10:57 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 23883)
Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 0.0ms | Allocations: 25907)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:10:58 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 7085)
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.0ms | Allocations: 7350)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:11:00 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
Redirected to http://127.0.0.1:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 303 See Other in 2ms (ActiveRecord: 0.0ms | Allocations: 556)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:11:00 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 7063)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms | Allocations: 7332)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:11:09 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 262)
  Rendered layout layouts/application.html.erb (Duration: 101.6ms | Allocations: 57274)
Completed 200 OK in 128ms (Views: 105.4ms | ActiveRecord: 0.0ms | Allocations: 62874)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:11:11 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
Redirected to http://127.0.0.1:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 303 See Other in 2ms (ActiveRecord: 0.0ms | Allocations: 871)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:11:11 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 7159)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 7480)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:11:34 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 24009)
Completed 200 OK in 21ms (Views: 17.4ms | ActiveRecord: 0.0ms | Allocations: 26037)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:11:35 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 7116)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 7387)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:11:36 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 7059)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 7324)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:11:37 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
Redirected to http://127.0.0.1:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 303 See Other in 3ms (ActiveRecord: 0.0ms | Allocations: 562)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:11:37 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 37.4ms | Allocations: 7108)
Completed 200 OK in 38ms (Views: 37.9ms | ActiveRecord: 0.0ms | Allocations: 7377)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-11 01:12:07 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.5ms | Allocations: 223)
  Rendered devise/shared/_links.html.erb (Duration: 0.9ms | Allocations: 549)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 8.4ms | Allocations: 3944)
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 27609)
Completed 200 OK in 35ms (Views: 26.6ms | ActiveRecord: 0.5ms | Allocations: 34192)


Started POST "/users" for 127.0.0.1 at 2024-03-11 01:12:24 +0800
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"fuck", "email"=>"fuck@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "fuck@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "fuck"], ["LIMIT", 1]]
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "fuck@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2024-03-10 17:12:25.517859"], ["updated_at", "2024-03-10 17:12:25.517859"], ["username", "fuck"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 467ms (ActiveRecord: 5.8ms | Allocations: 11607)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:12:25 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 7408)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 8871)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:13:48 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 15ms (ActiveRecord: 0.8ms | Allocations: 5642)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:13:48 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 24000)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.0ms | Allocations: 25462)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:13:57 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 7095)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms | Allocations: 7362)


Started GET "/preferences/new" for 127.0.0.1 at 2024-03-11 01:14:02 +0800
  
ActionController::RoutingError (No route matches [GET] "/preferences/new"):
  
Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:14:10 +0800
Processing by PreferencesController#new as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 371)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:14:10 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 235)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2035)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 9208)
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.0ms | Allocations: 10238)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-11 01:14:15 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 102)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1634)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 8602)
Completed 200 OK in 21ms (Views: 17.4ms | ActiveRecord: 0.0ms | Allocations: 9543)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:14:28 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 136)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 1324)
  Rendered layout layouts/application.html.erb (Duration: 27.2ms | Allocations: 8213)
Completed 200 OK in 34ms (Views: 29.9ms | ActiveRecord: 0.0ms | Allocations: 8824)


Started POST "/users" for 127.0.0.1 at 2024-03-11 01:14:29 +0800
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"lancau123", "email"=>"lancau123@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "lancau123@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "lancau123"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "lancau123@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2024-03-10 17:14:29.690920"], ["updated_at", "2024-03-10 17:14:29.690920"], ["username", "lancau123"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://127.0.0.1:3000/preferences
Completed 303 See Other in 467ms (ActiveRecord: 5.0ms | Allocations: 7417)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:14:29 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/preferences_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3494)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 10657)
Completed 200 OK in 41ms (Views: 8.9ms | ActiveRecord: 1.0ms | Allocations: 31900)


Started GET "/preferences/s" for 127.0.0.1 at 2024-03-11 01:18:05 +0800
  
ActionController::RoutingError (No route matches [GET] "/preferences/s"):
  
Started GET "/" for 127.0.0.1 at 2024-03-11 01:18:47 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 1.6ms | Allocations: 10030)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:18:47 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 3094)
  Rendered layout layouts/application.html.erb (Duration: 26.2ms | Allocations: 26906)
Completed 200 OK in 31ms (Views: 26.8ms | ActiveRecord: 0.4ms | Allocations: 31149)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:18:53 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.4ms | Allocations: 2605)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:18:53 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2923)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 9891)
Completed 200 OK in 21ms (Views: 12.2ms | ActiveRecord: 0.9ms | Allocations: 12226)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:18:56 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2923)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 10016)
Completed 200 OK in 20ms (Views: 12.5ms | ActiveRecord: 0.7ms | Allocations: 12358)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:19:00 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 23ms (ActiveRecord: 0.4ms | Allocations: 1965)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:19:00 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2923)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 9935)
Completed 200 OK in 19ms (Views: 15.3ms | ActiveRecord: 0.3ms | Allocations: 12272)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:19:21 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 1962)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:19:21 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2923)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 9925)
Completed 200 OK in 22ms (Views: 17.0ms | ActiveRecord: 0.5ms | Allocations: 12260)


Started POST "/preferences" for 127.0.0.1 at 2024-03-11 01:19:27 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["7"]}, "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.6ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 4], ["activity_type_id", 7]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "lancau123"], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 53ms (ActiveRecord: 4.6ms | Allocations: 20425)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:19:27 +0800
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 7216)
Completed 200 OK in 14ms (Views: 7.1ms | ActiveRecord: 0.3ms | Allocations: 10412)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:19:42 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 32ms (ActiveRecord: 0.4ms | Allocations: 2851)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:19:43 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 6929)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 7433)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:20:04 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
Redirected to http://127.0.0.1:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 303 See Other in 2ms (ActiveRecord: 0.0ms | Allocations: 382)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:20:04 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 6974)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 0.0ms | Allocations: 7480)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:20:59 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 6931)
Completed 200 OK in 31ms (Views: 26.6ms | ActiveRecord: 0.0ms | Allocations: 7406)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:21:01 +0800
Processing by PreferencesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 301)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:21:01 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 163)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1435)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 8514)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.0ms | Allocations: 9415)


Started POST "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:21:15 +0800
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"lancau123@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "lancau123@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Completed 303 See Other in 487ms (ActiveRecord: 0.7ms | Allocations: 12085)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:21:16 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2937)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 9854)
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 0.3ms | Allocations: 11920)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:21:20 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 7110)
Completed 200 OK in 54ms (Views: 27.0ms | ActiveRecord: 1.3ms | Allocations: 9166)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:21:36 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 13ms (ActiveRecord: 0.6ms | Allocations: 2693)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:21:36 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 6981)
Completed 200 OK in 20ms (Views: 15.8ms | ActiveRecord: 0.0ms | Allocations: 7480)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:21:40 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 6929)
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.0ms | Allocations: 7413)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:21:52 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 7110)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 7613)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:21:52 +0800
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 6905)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms | Allocations: 7392)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:21:54 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
Redirected to http://127.0.0.1:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 303 See Other in 1ms (ActiveRecord: 0.0ms | Allocations: 578)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:21:54 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 23840)
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.0ms | Allocations: 25572)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:21:57 +0800
Processing by PreferencesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 401)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:21:57 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 163)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1445)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 8618)
Completed 200 OK in 22ms (Views: 15.5ms | ActiveRecord: 0.9ms | Allocations: 12073)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-11 01:22:08 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered devise/shared/_links.html.erb (Duration: 2.1ms | Allocations: 102)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 12.0ms | Allocations: 1634)
  Rendered layout layouts/application.html.erb (Duration: 41.6ms | Allocations: 8641)
Completed 200 OK in 52ms (Views: 44.9ms | ActiveRecord: 0.0ms | Allocations: 9644)


Started POST "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:22:08 +0800
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"lancau123@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "lancau123@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Completed 303 See Other in 457ms (ActiveRecord: 1.4ms | Allocations: 9264)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:22:09 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 3095)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 10127)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.4ms | Allocations: 12465)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:22:14 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 6904)
Completed 200 OK in 16ms (Views: 11.0ms | ActiveRecord: 0.3ms | Allocations: 8967)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:22:16 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 51ms (ActiveRecord: 0.5ms | Allocations: 2911)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:22:16 +0800
Processing by DashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 7113)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 7605)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by DashboardController#index as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 1086)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 624)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 415)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 418)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 433)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 433)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 403)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 421)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 406)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 427)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 409)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 427)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:00 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 403)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:01 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 412)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:01 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 424)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:01 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 427)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:01 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 409)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:01 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 427)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:01 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 409)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:01 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 409)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 430)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 403)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 412)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 409)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 406)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 427)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 412)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 424)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 433)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 415)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 433)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 403)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 418)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 421)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 436)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 415)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 409)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 433)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 412)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:02 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 421)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 424)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 421)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 409)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 415)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 412)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 418)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 403)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 406)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 427)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 394)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 427)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 415)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 409)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 439)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 406)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 403)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 433)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 436)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 421)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:07 +0800
Processing by Devise::SessionsController#new as HTML
Redirected to http://127.0.0.1:3000/users/sign_in
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 415)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:37 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 162)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1456)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 25246)
Completed 200 OK in 24ms (Views: 19.6ms | ActiveRecord: 0.5ms | Allocations: 29049)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:41 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 162)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1456)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 25322)
Completed 200 OK in 22ms (Views: 17.5ms | ActiveRecord: 0.5ms | Allocations: 29113)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:41 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 136)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1324)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 8296)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.0ms | Allocations: 8922)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:24:47 +0800
Processing by DashboardController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 403)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:47 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 136)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1324)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 8239)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.0ms | Allocations: 8892)


Started POST "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:55 +0800
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"lancau123@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "lancau123@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_created_at", "2024-03-10 17:24:56.228516"], ["updated_at", "2024-03-10 17:24:56.228839"], ["id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 456ms (ActiveRecord: 6.1ms | Allocations: 12069)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:24:56 +0800
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 7226)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.2ms | Allocations: 10457)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:24:59 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_created_at", nil], ["updated_at", "2024-03-10 17:24:59.397657"], ["id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 18ms (ActiveRecord: 2.0ms | Allocations: 6110)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:24:59 +0800
Processing by DashboardController#index as TURBO_STREAM
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 292)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:24:59 +0800
Processing by Devise::SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 136)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1329)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 8424)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.0ms | Allocations: 9089)


Started POST "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:25:07 +0800
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"lancau123@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "lancau123@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_created_at", "2024-03-10 17:25:08.121173"], ["updated_at", "2024-03-10 17:25:08.122661"], ["id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 517ms (ActiveRecord: 4.6ms | Allocations: 5158)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:25:08 +0800
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 7113)
Completed 200 OK in 14ms (Views: 8.3ms | ActiveRecord: 0.2ms | Allocations: 9220)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:25:25 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3090)
  Rendered layout layouts/application.html.erb (Duration: 30.1ms | Allocations: 10068)
Completed 200 OK in 38ms (Views: 31.2ms | ActiveRecord: 0.7ms | Allocations: 12470)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 01:26:30 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 4]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_created_at", nil], ["updated_at", "2024-03-10 17:26:30.554301"], ["id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 31ms (ActiveRecord: 5.3ms | Allocations: 6034)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:26:30 +0800
Processing by DashboardController#index as TURBO_STREAM
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 303)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 01:26:30 +0800
Processing by Devise::SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.1ms | Allocations: 136)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1328)
  Rendered layout layouts/application.html.erb (Duration: 30.2ms | Allocations: 8301)
Completed 200 OK in 32ms (Views: 30.6ms | ActiveRecord: 0.0ms | Allocations: 8933)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-11 01:26:31 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 102)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1634)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 8679)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 9689)


Started POST "/users" for 127.0.0.1 at 2024-03-11 01:26:41 +0800
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"mengfoong", "email"=>"mengfoong@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "mengfoong@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "mengfoong"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "mengfoong@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2024-03-10 17:26:41.882188"], ["updated_at", "2024-03-10 17:26:41.882188"], ["username", "mengfoong"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 440ms (ActiveRecord: 3.7ms | Allocations: 7432)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:26:41 +0800
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1964)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:26:41 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2923)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 9915)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.3ms | Allocations: 12277)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:27:06 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1941)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:27:06 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2923)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 9908)
Completed 200 OK in 18ms (Views: 13.3ms | ActiveRecord: 0.5ms | Allocations: 12234)


Started POST "/preferences" for 127.0.0.1 at 2024-03-11 01:27:24 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["2", "7"]}, "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" IN (?, ?)[0m  [["id", 2], ["id", 7]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.9ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 5], ["activity_type_id", 2]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.1ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 5], ["activity_type_id", 7]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "mengfoong"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 25ms (ActiveRecord: 6.8ms | Allocations: 8448)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:27:24 +0800
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 7062)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.2ms | Allocations: 9169)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:27:26 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 6957)
Completed 200 OK in 26ms (Views: 18.3ms | ActiveRecord: 0.4ms | Allocations: 9049)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:27:26 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 6904)
Completed 200 OK in 14ms (Views: 7.6ms | ActiveRecord: 0.4ms | Allocations: 8993)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:27:27 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 6981)
Completed 200 OK in 21ms (Views: 16.5ms | ActiveRecord: 0.3ms | Allocations: 9070)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:27:27 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 6999)
Completed 200 OK in 17ms (Views: 11.2ms | ActiveRecord: 0.4ms | Allocations: 9115)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 01:27:29 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 9823)
Completed 200 OK in 16ms (Views: 9.1ms | ActiveRecord: 0.5ms | Allocations: 11888)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-11 01:28:20 +0800
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 1557)


Started GET "/" for 127.0.0.1 at 2024-03-11 01:28:20 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 7059)
Completed 200 OK in 28ms (Views: 8.2ms | ActiveRecord: 0.3ms | Allocations: 9152)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 01:28:23 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 706.9ms | Allocations: 3702)
  Rendered layout layouts/application.html.erb (Duration: 722.7ms | Allocations: 10617)
Completed 200 OK in 728ms (Views: 723.9ms | ActiveRecord: 0.4ms | Allocations: 14228)


Started GET "/user/3" for 127.0.0.1 at 2024-03-11 01:28:28 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 365.5ms | Allocations: 2029)
  Rendered layout layouts/application.html.erb (Duration: 385.2ms | Allocations: 8865)
Completed 200 OK in 393ms (Views: 385.7ms | ActiveRecord: 0.7ms | Allocations: 11437)


Started GET "/user/4" for 127.0.0.1 at 2024-03-11 01:28:30 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 180.2ms | Allocations: 2073)
  Rendered layout layouts/application.html.erb (Duration: 197.0ms | Allocations: 8988)
Completed 200 OK in 204ms (Views: 197.5ms | ActiveRecord: 0.6ms | Allocations: 11535)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:28:32 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 265.8ms | Allocations: 2047)
  Rendered layout layouts/application.html.erb (Duration: 282.7ms | Allocations: 8849)
Completed 200 OK in 289ms (Views: 283.4ms | ActiveRecord: 0.6ms | Allocations: 11405)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:41:24 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1967)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2055)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.9ms | Allocations: 14497)


  
ActionView::Template::Error (undefined local variable or method `activities_path' for an instance of #<Class:0x0000000129f364a0>):
     5:   <%= @user.username %>
     6: </div>
     7: 
     8: <%= form_with model: @activity, url: activities_path do |form| %>
     9:   <div class="field" data-controller="activity-type">
    10:     <%= form.label :user_id %>
    11:     <%= form.number_field :user_id %>
  
app/views/user/show.html.erb:8
Started GET "/use" for 127.0.0.1 at 2024-03-11 01:41:33 +0800
  
ActionController::RoutingError (No route matches [GET] "/use"):
  
Started GET "/use" for 127.0.0.1 at 2024-03-11 01:43:06 +0800
  
ActionController::RoutingError (No route matches [GET] "/use"):
  
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:43:09 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4600)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 4688)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 2.7ms | Allocations: 18023)


  
ActionView::Template::Error (undefined local variable or method `activity_type_options' for an instance of #<Class:0x00000001295feba8>):
    18: 
    19:   <div class="field" data-controller="activity-type">
    20:     <%= form.label :type_id %>
    21:     <%= form.select :type_id, options_for_select(activity_type_options, @activity.type_id), data: { target: 'activity-type.activityTypes' }, data: { action: 'change->activity-type#updateLabel' } %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:46:22 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 4091)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 4179)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.7ms | Allocations: 17107)


  
ActionView::Template::Error (undefined local variable or method `activity_type_options' for an instance of #<Class:0x00000001293fba40>):
    18: 
    19:   <div class="field" data-controller="activity-type">
    20:     <%= form.label :type_id %>
    21:     <%= form.select :type_id, options_for_select(activity_type_options, @activity.type_id), data: { target: 'activity-type.activityTypes' }, data: { action: 'change->activity-type#updateLabel' } %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:46:24 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4097)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 4184)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.2ms | Allocations: 6713)


  
ActionView::Template::Error (undefined local variable or method `activity_type_options' for an instance of #<Class:0x00000001293fba40>):
    18: 
    19:   <div class="field" data-controller="activity-type">
    20:     <%= form.label :type_id %>
    21:     <%= form.select :type_id, options_for_select(activity_type_options, @activity.type_id), data: { target: 'activity-type.activityTypes' }, data: { action: 'change->activity-type#updateLabel' } %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:46:25 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 4097)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 4184)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.4ms | Allocations: 6713)


  
ActionView::Template::Error (undefined local variable or method `activity_type_options' for an instance of #<Class:0x00000001293fba40>):
    18: 
    19:   <div class="field" data-controller="activity-type">
    20:     <%= form.label :type_id %>
    21:     <%= form.select :type_id, options_for_select(activity_type_options, @activity.type_id), data: { target: 'activity-type.activityTypes' }, data: { action: 'change->activity-type#updateLabel' } %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:47:19 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 4091)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 4179)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 3.0ms | Allocations: 17119)


  
ActionView::Template::Error (undefined local variable or method `activity_type_options' for an instance of #<Class:0x000000012c1d5830>):
    18: 
    19:   <div class="field" data-controller="activity-type">
    20:     <%= form.label :type_id %>
    21:     <%= form.select :type_id, options_for_select(activity_type_options, @activity.type_id), data: { target: 'activity-type.activityTypes' }, data: { action: 'change->activity-type#updateLabel' } %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:47:21 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 4097)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 4184)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.4ms | Allocations: 6721)


  
ActionView::Template::Error (undefined local variable or method `activity_type_options' for an instance of #<Class:0x000000012c1d5830>):
    18: 
    19:   <div class="field" data-controller="activity-type">
    20:     <%= form.label :type_id %>
    21:     <%= form.select :type_id, options_for_select(activity_type_options, @activity.type_id), data: { target: 'activity-type.activityTypes' }, data: { action: 'change->activity-type#updateLabel' } %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:48:06 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21:in `map'
  Rendered user/show.html.erb within layouts/application (Duration: 7.8ms | Allocations: 5259)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 5347)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 1.2ms | Allocations: 8454)


  
ActionView::Template::Error (undefined method `type_id' for nil):
    18: 
    19:   <div class="field" data-controller="activity-type">
    20:     <%= form.label :type_id %>
    21:     <%= form.select :type_id, options_for_select(@activity_types.map { |type| [type.name, type.id] }, @activity.type_id), data: { target: 'activity-type.activityTypes' }, data: { action: 'change->activity-type#updateLabel' } %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:48:43 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21:in `map'
  Rendered user/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 5175)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 5263)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.4ms | Allocations: 8369)


  
ActionView::Template::Error (undefined method `type_id' for nil):
    18: 
    19:   <div class="field" data-controller="activity-type">
    20:     <%= form.label :type_id %>
    21:     <%= form.select :type_id, options_for_select(@activity_types.map { |type| [type.name, type.id] }, @activity.type_id), data: { target: 'activity-type.activityTypes' }, data: { action: 'change->activity-type#updateLabel' } %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:48:44 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21:in `map'
  Rendered user/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 4765)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 4852)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 7390)


  
ActionView::Template::Error (undefined method `type_id' for nil):
    18: 
    19:   <div class="field" data-controller="activity-type">
    20:     <%= form.label :type_id %>
    21:     <%= form.select :type_id, options_for_select(@activity_types.map { |type| [type.name, type.id] }, @activity.type_id), data: { target: 'activity-type.activityTypes' }, data: { action: 'change->activity-type#updateLabel' } %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:48:45 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21:in `map'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 481.8ms | Allocations: 5654)
  Rendered layout layouts/application.html.erb (Duration: 558.4ms | Allocations: 60760)
Completed 200 OK in 573ms (Views: 558.9ms | ActiveRecord: 1.9ms | Allocations: 77278)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:50:29 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21:in `map'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 539.5ms | Allocations: 5254)
  Rendered layout layouts/application.html.erb (Duration: 595.0ms | Allocations: 31693)
Completed 200 OK in 617ms (Views: 595.9ms | ActiveRecord: 3.5ms | Allocations: 47342)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:50:48 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21:in `map'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 441.5ms | Allocations: 5253)
  Rendered layout layouts/application.html.erb (Duration: 476.2ms | Allocations: 31661)
Completed 200 OK in 504ms (Views: 476.9ms | ActiveRecord: 2.3ms | Allocations: 47368)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:51:03 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21:in `map'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 246.8ms | Allocations: 5252)
  Rendered layout layouts/application.html.erb (Duration: 293.9ms | Allocations: 31732)
Completed 200 OK in 311ms (Views: 294.5ms | ActiveRecord: 2.0ms | Allocations: 47410)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:51:03 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21:in `map'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 249.3ms | Allocations: 4129)
  Rendered layout layouts/application.html.erb (Duration: 298.7ms | Allocations: 10992)
Completed 200 OK in 306ms (Views: 298.9ms | ActiveRecord: 0.8ms | Allocations: 13602)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:51:39 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 291.0ms | Allocations: 4639)
  Rendered layout layouts/application.html.erb (Duration: 316.6ms | Allocations: 11771)
Completed 200 OK in 362ms (Views: 335.0ms | ActiveRecord: 1.2ms | Allocations: 14935)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:53:06 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 280.9ms | Allocations: 5670)
  Rendered layout layouts/application.html.erb (Duration: 324.7ms | Allocations: 32137)
Completed 200 OK in 353ms (Views: 326.0ms | ActiveRecord: 5.0ms | Allocations: 48253)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:53:09 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 451.2ms | Allocations: 4157)
  Rendered layout layouts/application.html.erb (Duration: 464.1ms | Allocations: 11015)
Completed 200 OK in 469ms (Views: 464.8ms | ActiveRecord: 0.4ms | Allocations: 13601)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:53:14 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/views/user/show.html.erb:21:in `map'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 170.9ms | Allocations: 4541)
  Rendered layout layouts/application.html.erb (Duration: 181.4ms | Allocations: 11589)
Completed 200 OK in 195ms (Views: 183.8ms | ActiveRecord: 0.7ms | Allocations: 14750)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:58:55 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.5ms | Allocations: 13693)


  
NoMethodError (undefined method `activity_types' for an instance of User):
  
app/controllers/user_controller.rb:6:in `block in show'
app/controllers/user_controller.rb:6:in `sort_by'
app/controllers/user_controller.rb:6:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 01:59:10 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 340.5ms | Allocations: 4875)
  Rendered layout layouts/application.html.erb (Duration: 388.0ms | Allocations: 31381)
Completed 200 OK in 413ms (Views: 389.1ms | ActiveRecord: 2.0ms | Allocations: 48161)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:00:36 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `map'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2345)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 2433)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 2.2ms | Allocations: 18779)


  
ActionView::Template::Error (undefined method `name' for an instance of Array):
    18: 
    19:   <div class="field" data-controller="activity-type">
    20:     <%= form.label :type_id %>
    21:     <%= form.select :type_id, options_for_select(@activity_types.map { |type| [type.name, type.id] }, @activity.type_id), data: { target: 'activity-type.activityTypes' }, data: { action: 'change->activity-type#updateLabel' } %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:21:in `map'
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:01:26 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `map'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2339)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 2427)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 2.2ms | Allocations: 18779)


  
ActionView::Template::Error (undefined method `name' for an instance of Array):
    18: 
    19:   <div class="field" data-controller="activity-type">
    20:     <%= form.label :type_id %>
    21:     <%= form.select :type_id, options_for_select(@activity_types.map { |type| [type.name, type.id] }, @activity.type_id), data: { target: 'activity-type.activityTypes' }, data: { action: 'change->activity-type#updateLabel' } %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:21:in `map'
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:02:17 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `map'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 248.5ms | Allocations: 4861)
  Rendered layout layouts/application.html.erb (Duration: 274.1ms | Allocations: 31505)
Completed 200 OK in 293ms (Views: 275.3ms | ActiveRecord: 2.1ms | Allocations: 48283)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:03:10 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.7ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.2ms | Allocations: 15638)


  
NoMethodError (undefined method `user_preferences' for an instance of User):
  
app/controllers/user_controller.rb:11:in `combined_activity_types'
app/controllers/user_controller.rb:5:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:03:25 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/user_controller.rb:12:in `map'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 1.9ms | Allocations: 17833)


  
ActiveRecord::AssociationNotFoundError (Association named 'activity_type' was not found on ActivityType; perhaps you misspelled it?):
  
app/controllers/user_controller.rb:12:in `map'
app/controllers/user_controller.rb:12:in `combined_activity_types'
app/controllers/user_controller.rb:5:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:03:45 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/user_controller.rb:12:in `map'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.0ms | Allocations: 16654)


  
ActiveRecord::AssociationNotFoundError (Association named 'activity_type' was not found on ActivityType; perhaps you misspelled it?):
  
app/controllers/user_controller.rb:12:in `map'
app/controllers/user_controller.rb:12:in `combined_activity_types'
app/controllers/user_controller.rb:5:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:03:59 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/user_controller.rb:12:in `map'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 2.4ms | Allocations: 16690)


  
ActiveRecord::AssociationNotFoundError (Association named 'activity_type' was not found on ActivityType; perhaps you misspelled it?):
  
app/controllers/user_controller.rb:12:in `map'
app/controllers/user_controller.rb:12:in `combined_activity_types'
app/controllers/user_controller.rb:5:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:04:18 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 232.8ms | Allocations: 4875)
  Rendered layout layouts/application.html.erb (Duration: 288.9ms | Allocations: 31534)
Completed 200 OK in 309ms (Views: 290.8ms | ActiveRecord: 2.0ms | Allocations: 48248)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:05:37 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 203.3ms | Allocations: 4523)
  Rendered layout layouts/application.html.erb (Duration: 240.4ms | Allocations: 30590)
Completed 200 OK in 260ms (Views: 241.4ms | ActiveRecord: 2.0ms | Allocations: 46943)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:07:02 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 324.3ms | Allocations: 4523)
  Rendered layout layouts/application.html.erb (Duration: 341.5ms | Allocations: 30931)
Completed 200 OK in 360ms (Views: 342.2ms | ActiveRecord: 1.9ms | Allocations: 47296)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:08:27 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 164.5ms | Allocations: 4524)
  Rendered layout layouts/application.html.erb (Duration: 187.7ms | Allocations: 30933)
Completed 200 OK in 206ms (Views: 188.5ms | ActiveRecord: 2.2ms | Allocations: 47277)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:08:53 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.9ms | Allocations: 13791)


  
TypeError (wrong argument type ActivityType (expected Module)):
  
app/controllers/user_controller.rb:11:in `block in show'
app/controllers/user_controller.rb:6:in `sort_by'
app/controllers/user_controller.rb:6:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:09:07 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (2.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 3.4ms | Allocations: 3547)


  
TypeError (wrong argument type ActivityType (expected Module)):
  
app/controllers/user_controller.rb:11:in `block in show'
app/controllers/user_controller.rb:6:in `sort_by'
app/controllers/user_controller.rb:6:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:09:48 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 231.3ms | Allocations: 4522)
  Rendered layout layouts/application.html.erb (Duration: 267.2ms | Allocations: 30932)
Completed 200 OK in 286ms (Views: 268.1ms | ActiveRecord: 2.0ms | Allocations: 47300)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:09:54 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 61.7ms | Allocations: 4522)
  Rendered layout layouts/application.html.erb (Duration: 79.6ms | Allocations: 30931)
Completed 200 OK in 108ms (Views: 80.8ms | ActiveRecord: 2.1ms | Allocations: 47347)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:09:55 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 280.4ms | Allocations: 3438)
  Rendered layout layouts/application.html.erb (Duration: 293.1ms | Allocations: 10224)
Completed 200 OK in 302ms (Views: 293.6ms | ActiveRecord: 0.8ms | Allocations: 13440)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:10:16 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.7ms | Allocations: 13723)


  
NoMethodError (undefined method `+' for an instance of ActivityType):
  
app/controllers/user_controller.rb:16:in `block in show'
app/controllers/user_controller.rb:7:in `sort_by'
app/controllers/user_controller.rb:7:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:11:23 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 153.1ms | Allocations: 4520)
  Rendered layout layouts/application.html.erb (Duration: 220.6ms | Allocations: 30928)
Completed 200 OK in 239ms (Views: 221.4ms | ActiveRecord: 2.0ms | Allocations: 47308)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:11:54 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.1ms | Allocations: 13687)


  
TypeError (no implicit conversion of ActivityType into String):
  
app/controllers/user_controller.rb:15:in `+'
app/controllers/user_controller.rb:15:in `block in show'
app/controllers/user_controller.rb:7:in `sort_by'
app/controllers/user_controller.rb:7:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:12:18 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.6ms | Allocations: 13666)


  
ArgumentError (comparison of Integer with String failed):
  
app/controllers/user_controller.rb:7:in `sort_by'
app/controllers/user_controller.rb:7:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:13:17 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 345.4ms | Allocations: 4523)
  Rendered layout layouts/application.html.erb (Duration: 383.9ms | Allocations: 30931)
Completed 200 OK in 405ms (Views: 385.0ms | ActiveRecord: 2.4ms | Allocations: 47319)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:13:18 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 141.8ms | Allocations: 3440)
  Rendered layout layouts/application.html.erb (Duration: 164.5ms | Allocations: 10418)
Completed 200 OK in 170ms (Views: 165.1ms | ActiveRecord: 0.5ms | Allocations: 13635)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:14:33 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 116.5ms | Allocations: 4520)
  Rendered layout layouts/application.html.erb (Duration: 146.1ms | Allocations: 30845)
Completed 200 OK in 163ms (Views: 146.9ms | ActiveRecord: 1.9ms | Allocations: 47211)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:14:37 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 405.1ms | Allocations: 3476)
  Rendered layout layouts/application.html.erb (Duration: 412.4ms | Allocations: 10360)
Completed 200 OK in 425ms (Views: 413.8ms | ActiveRecord: 0.6ms | Allocations: 13571)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:14:39 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 318.2ms | Allocations: 4521)
  Rendered layout layouts/application.html.erb (Duration: 337.9ms | Allocations: 30930)
Completed 200 OK in 373ms (Views: 338.6ms | ActiveRecord: 2.2ms | Allocations: 47337)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:15:31 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 379.3ms | Allocations: 4599)
  Rendered layout layouts/application.html.erb (Duration: 426.4ms | Allocations: 31007)
Completed 200 OK in 447ms (Views: 427.2ms | ActiveRecord: 2.1ms | Allocations: 47364)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:15:58 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.8ms | Allocations: 13712)


  
NoMethodError (undefined method `+' for an instance of ActivityType):
  
app/controllers/user_controller.rb:14:in `block in show'
app/controllers/user_controller.rb:7:in `sort_by'
app/controllers/user_controller.rb:7:in `show'
Started GET "/use" for 127.0.0.1 at 2024-03-11 02:17:36 +0800
  
ActionController::RoutingError (No route matches [GET] "/use"):
  
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:17:39 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 307.9ms | Allocations: 4529)
  Rendered layout layouts/application.html.erb (Duration: 344.1ms | Allocations: 30937)
Completed 200 OK in 371ms (Views: 345.4ms | ActiveRecord: 2.9ms | Allocations: 47419)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:17:47 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 77.0ms | Allocations: 3439)
  Rendered layout layouts/application.html.erb (Duration: 104.1ms | Allocations: 10334)
Completed 200 OK in 144ms (Views: 104.8ms | ActiveRecord: 1.7ms | Allocations: 13565)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:17:49 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 66.9ms | Allocations: 3471)
  Rendered layout layouts/application.html.erb (Duration: 84.0ms | Allocations: 10284)
Completed 200 OK in 95ms (Views: 84.7ms | ActiveRecord: 0.8ms | Allocations: 13524)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:18:09 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 175.0ms | Allocations: 4521)
  Rendered layout layouts/application.html.erb (Duration: 202.3ms | Allocations: 30930)
Completed 200 OK in 240ms (Views: 203.2ms | ActiveRecord: 3.2ms | Allocations: 47411)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:18:19 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 1.7ms | Allocations: 13753)


  
NoMethodError (undefined method `+' for an instance of ActivityType):
  
app/controllers/user_controller.rb:11:in `block in show'
app/controllers/user_controller.rb:6:in `sort_by'
app/controllers/user_controller.rb:6:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:18:32 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 363.6ms | Allocations: 4517)
  Rendered layout layouts/application.html.erb (Duration: 401.5ms | Allocations: 30926)
Completed 200 OK in 439ms (Views: 402.5ms | ActiveRecord: 3.5ms | Allocations: 47416)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:18:49 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 132.5ms | Allocations: 4526)
  Rendered layout layouts/application.html.erb (Duration: 153.1ms | Allocations: 30934)
Completed 200 OK in 169ms (Views: 153.7ms | ActiveRecord: 1.9ms | Allocations: 47422)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:18:57 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 311.5ms | Allocations: 4528)
  Rendered layout layouts/application.html.erb (Duration: 377.9ms | Allocations: 30937)
Completed 200 OK in 397ms (Views: 379.4ms | ActiveRecord: 2.1ms | Allocations: 47401)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:19:15 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 233.1ms | Allocations: 4527)
  Rendered layout layouts/application.html.erb (Duration: 265.4ms | Allocations: 30937)
Completed 200 OK in 284ms (Views: 266.2ms | ActiveRecord: 2.6ms | Allocations: 47313)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:20:57 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (3.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 606.2ms | Allocations: 34532)
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:20:58 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered layout layouts/application.html.erb (Duration: 669.5ms | Allocations: 69866)
Completed 200 OK in 738ms (Views: 675.7ms | ActiveRecord: 3.2ms | Allocations: 98972)


  Rendered user/show.html.erb within layouts/application (Duration: 416.0ms | Allocations: 15743)
  Rendered layout layouts/application.html.erb (Duration: 421.0ms | Allocations: 22713)
Completed 200 OK in 429ms (Views: 421.1ms | ActiveRecord: 1.0ms | Allocations: 27514)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:25:01 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 176.2ms | Allocations: 4886)
  Rendered layout layouts/application.html.erb (Duration: 238.2ms | Allocations: 38828)
Completed 200 OK in 272ms (Views: 239.3ms | ActiveRecord: 7.6ms | Allocations: 55671)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:25:15 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 87.2ms | Allocations: 3478)
  Rendered layout layouts/application.html.erb (Duration: 93.4ms | Allocations: 10265)
Completed 200 OK in 124ms (Views: 96.7ms | ActiveRecord: 1.4ms | Allocations: 13485)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:27:31 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 432.2ms | Allocations: 3999)
  Rendered layout layouts/application.html.erb (Duration: 486.8ms | Allocations: 31925)
Completed 200 OK in 521ms (Views: 487.9ms | ActiveRecord: 0.5ms | Allocations: 35702)


Started GET "/activity_types/undefined" for 127.0.0.1 at 2024-03-11 02:27:32 +0800
Processing by ActivityTypesController#show as */*
  Parameters: {"id"=>"undefined"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/activity_types_controller.rb:3:in `show'
Completed 404 Not Found in 4ms (ActiveRecord: 0.2ms | Allocations: 2797)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType with 'id'=undefined):
  
app/controllers/activity_types_controller.rb:3:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:27:43 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 168.0ms | Allocations: 3953)
  Rendered layout layouts/application.html.erb (Duration: 187.7ms | Allocations: 11201)
Completed 200 OK in 201ms (Views: 189.9ms | ActiveRecord: 0.7ms | Allocations: 14991)


Started GET "/activity_types/undefined" for 127.0.0.1 at 2024-03-11 02:27:43 +0800
Processing by ActivityTypesController#show as */*
  Parameters: {"id"=>"undefined"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/activity_types_controller.rb:3:in `show'
Completed 404 Not Found in 15ms (ActiveRecord: 0.6ms | Allocations: 2791)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType with 'id'=undefined):
  
app/controllers/activity_types_controller.rb:3:in `show'
Started GET "/activity_types/undefined" for 127.0.0.1 at 2024-03-11 02:27:43 +0800
Processing by ActivityTypesController#show as */*
  Parameters: {"id"=>"undefined"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/activity_types_controller.rb:3:in `show'
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms | Allocations: 2781)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType with 'id'=undefined):
  
app/controllers/activity_types_controller.rb:3:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:29:19 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 216.2ms | Allocations: 14758)
  Rendered layout layouts/application.html.erb (Duration: 284.1ms | Allocations: 45566)
Completed 200 OK in 307ms (Views: 286.4ms | ActiveRecord: 1.1ms | Allocations: 49347)


Started GET "/activity_types/undefined" for 127.0.0.1 at 2024-03-11 02:29:20 +0800
Processing by ActivityTypesController#show as */*
  Parameters: {"id"=>"undefined"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.8ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/activity_types_controller.rb:3:in `show'
Completed 404 Not Found in 25ms (ActiveRecord: 1.0ms | Allocations: 2772)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType with 'id'=undefined):
  
app/controllers/activity_types_controller.rb:3:in `show'
Started GET "/activity_types/undefined" for 127.0.0.1 at 2024-03-11 02:29:20 +0800
Processing by ActivityTypesController#show as */*
  Parameters: {"id"=>"undefined"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/activity_types_controller.rb:3:in `show'
Completed 404 Not Found in 4ms (ActiveRecord: 0.3ms | Allocations: 2759)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType with 'id'=undefined):
  
app/controllers/activity_types_controller.rb:3:in `show'
Started GET "/activity_types/undefined" for 127.0.0.1 at 2024-03-11 02:29:20 +0800
Processing by ActivityTypesController#show as */*
  Parameters: {"id"=>"undefined"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/activity_types_controller.rb:3:in `show'
Completed 404 Not Found in 5ms (ActiveRecord: 0.3ms | Allocations: 2759)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType with 'id'=undefined):
  
app/controllers/activity_types_controller.rb:3:in `show'
Started GET "/activity_types/undefined" for 127.0.0.1 at 2024-03-11 02:29:22 +0800
Processing by ActivityTypesController#show as */*
  Parameters: {"id"=>"undefined"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/activity_types_controller.rb:3:in `show'
Completed 404 Not Found in 7ms (ActiveRecord: 0.4ms | Allocations: 2760)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType with 'id'=undefined):
  
app/controllers/activity_types_controller.rb:3:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:31:13 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 158.7ms | Allocations: 3964)
  Rendered layout layouts/application.html.erb (Duration: 201.7ms | Allocations: 31876)
Completed 200 OK in 259ms (Views: 205.4ms | ActiveRecord: 1.4ms | Allocations: 35640)


Started GET "/activity_types/undefined" for 127.0.0.1 at 2024-03-11 02:31:14 +0800
Processing by ActivityTypesController#show as */*
  Parameters: {"id"=>"undefined"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/activity_types_controller.rb:3:in `show'
Completed 404 Not Found in 4ms (ActiveRecord: 0.2ms | Allocations: 2771)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType with 'id'=undefined):
  
app/controllers/activity_types_controller.rb:3:in `show'
Started GET "/activity_types/undefined" for 127.0.0.1 at 2024-03-11 02:31:14 +0800
Processing by ActivityTypesController#show as */*
  Parameters: {"id"=>"undefined"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/activity_types_controller.rb:3:in `show'
Completed 404 Not Found in 19ms (ActiveRecord: 0.3ms | Allocations: 2771)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType with 'id'=undefined):
  
app/controllers/activity_types_controller.rb:3:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:32:39 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 186.7ms | Allocations: 3974)
  Rendered layout layouts/application.html.erb (Duration: 221.1ms | Allocations: 31950)
Completed 200 OK in 248ms (Views: 223.0ms | ActiveRecord: 0.9ms | Allocations: 35723)


Started GET "/activity_types/2" for 127.0.0.1 at 2024-03-11 02:32:39 +0800
Processing by ActivityTypesController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/activity_types_controller.rb:3:in `show'
Completed 200 OK in 34ms (Views: 1.7ms | ActiveRecord: 0.7ms | Allocations: 2527)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:35:50 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 413.9ms | Allocations: 4875)
  Rendered layout layouts/application.html.erb (Duration: 450.2ms | Allocations: 28717)
Completed 200 OK in 467ms (Views: 451.4ms | ActiveRecord: 2.2ms | Allocations: 45520)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:35:54 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 332.0ms | Allocations: 3453)
  Rendered layout layouts/application.html.erb (Duration: 348.6ms | Allocations: 10206)
Completed 200 OK in 357ms (Views: 349.3ms | ActiveRecord: 0.5ms | Allocations: 13420)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:36:24 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 115.8ms | Allocations: 4516)
  Rendered layout layouts/application.html.erb (Duration: 133.5ms | Allocations: 28145)
Completed 200 OK in 152ms (Views: 134.3ms | ActiveRecord: 2.2ms | Allocations: 44541)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:37:24 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."activity_type_id" = ? LIMIT ?[0m  [["user_id", 5], ["activity_type_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:14:in `block in show'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 4.0ms | Allocations: 14984)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: activity_types.activity_type_id):
  
app/controllers/user_controller.rb:14:in `block in show'
app/controllers/user_controller.rb:6:in `sort_by'
app/controllers/user_controller.rb:6:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:37:38 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:14:in `block in show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:14:in `block in show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 243.6ms | Allocations: 4538)
  Rendered layout layouts/application.html.erb (Duration: 290.1ms | Allocations: 28198)
Completed 200 OK in 311ms (Views: 290.9ms | ActiveRecord: 2.3ms | Allocations: 46218)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:38:32 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 437.5ms | Allocations: 4523)
  Rendered layout layouts/application.html.erb (Duration: 483.9ms | Allocations: 27872)
Completed 200 OK in 502ms (Views: 484.6ms | ActiveRecord: 2.2ms | Allocations: 44242)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:38:35 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 65.6ms | Allocations: 3486)
  Rendered layout layouts/application.html.erb (Duration: 78.6ms | Allocations: 10321)
Completed 200 OK in 91ms (Views: 79.0ms | ActiveRecord: 0.9ms | Allocations: 13550)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:39:24 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 210.5ms | Allocations: 4508)
  Rendered layout layouts/application.html.erb (Duration: 253.3ms | Allocations: 28132)
Completed 200 OK in 273ms (Views: 254.2ms | ActiveRecord: 2.4ms | Allocations: 44522)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:41:48 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 2817)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 2905)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 2.0ms | Allocations: 19687)


  
ActionView::Template::Error (undefined method `lancau_name' for an instance of ActivityType):
    18: 
    19:   <div class="field">
    20:     <%= form.label :type_id %>
    21:     <%= form.collection_select :type_id, @activity_types, :id, :lancau_name, {} %>
    22:   </div>
    23: 
    24:   <div class="field">
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:46:55 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 464.7ms | Allocations: 4868)
  Rendered layout layouts/application.html.erb (Duration: 502.8ms | Allocations: 28765)
Completed 200 OK in 528ms (Views: 503.8ms | ActiveRecord: 4.0ms | Allocations: 45560)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:48:37 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 301.9ms | Allocations: 4788)
  Rendered layout layouts/application.html.erb (Duration: 326.9ms | Allocations: 28631)
Completed 200 OK in 345ms (Views: 328.0ms | ActiveRecord: 2.2ms | Allocations: 45448)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:50:06 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1360)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1449)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.8ms | Allocations: 5263)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center">
  <div>
    <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
  </div>
  <%= @user.username %>
</div>

<%= form_with model: @activity, url: activities_path do |form| %>
  <div class="field" data-controller="activity-type">
    <%= form.label :user_id %>
    <%= form.number_field :user_id %>
  </div>

  <div class="field">
    <%= form.label :carbon_emission %>
    <%= form.number_field :carbon_emission %>
  </div>

  <div class="field">
    <%= form.label :type_id %>
    <%=  @activity_types.map { |name, id| [name, id] },
  selected: nil %>
  </div>

  <div class="field">
    <%= form.label :value, "Value", id: 'activity_value_label' %>
    <%= form.number_field :value, id: 'activity_value' %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>




<%= ClimatiqEstimationService.calculate_carbon_emission(1, 200) %>
):
1:    <div class="flex flex-col items-center">
2:      <div>
3:        <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
4:      </div>
5:      <%= @user.username %>
6:    </div>
7:    
8:    <%= form_with model: @activity, url: activities_path do |form| %>
9:      <div class="field" data-controller="activity-type">
10:        <%= form.label :user_id %>
11:        <%= form.number_field :user_id %>
12:      </div>
13:    
14:      <div class="field">
15:        <%= form.label :carbon_emission %>
16:        <%= form.number_field :carbon_emission %>
17:      </div>
18:    
19:      <div class="field">
20:        <%= form.label :type_id %>
21:        <%=  @activity_types.map { |name, id| [name, id] },
22:      selected: nil %>
23:      </div>
24:    
25:      <div class="field">
26:        <%= form.label :value, "Value", id: 'activity_value_label' %>
27:        <%= form.number_field :value, id: 'activity_value' %>
28:      </div>
29:    
30:      <div class="actions">
31:        <%= form.submit %>
32:      </div>
33:    <% end %>
34:    
35:    
36:    
37:    
38:    <%= ClimatiqEstimationService.calculate_carbon_emission(1, 200) %>
  
app/views/user/show.html.erb:21: syntax error, unexpected ',', expecting ')'
app/views/user/show.html.erb:21: syntax error, unexpected ',', expecting ')'
app/views/user/show.html.erb:21: syntax error, unexpected ',', expecting ')'
app/views/user/show.html.erb:21: syntax error, unexpected ',', expecting ')'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:50:12 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 235.5ms | Allocations: 3835)
  Rendered layout layouts/application.html.erb (Duration: 248.4ms | Allocations: 11049)
Completed 200 OK in 262ms (Views: 250.4ms | ActiveRecord: 0.6ms | Allocations: 14862)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:50:26 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 375.2ms | Allocations: 4787)
  Rendered layout layouts/application.html.erb (Duration: 407.6ms | Allocations: 28623)
Completed 200 OK in 427ms (Views: 410.3ms | ActiveRecord: 2.2ms | Allocations: 45422)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:51:00 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.5ms | Allocations: 13625)


  
ArgumentError (comparison of NilClass with 1 failed):
  
app/controllers/user_controller.rb:6:in `sort_by'
app/controllers/user_controller.rb:6:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:51:13 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.1ms | Allocations: 13652)


  
ArgumentError (comparison of NilClass with 1 failed):
  
app/controllers/user_controller.rb:6:in `sort_by'
app/controllers/user_controller.rb:6:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:51:47 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.7ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 195.8ms | Allocations: 4787)
  Rendered layout layouts/application.html.erb (Duration: 220.3ms | Allocations: 28623)
Completed 200 OK in 246ms (Views: 221.5ms | ActiveRecord: 2.8ms | Allocations: 45401)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:51:55 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 69.8ms | Allocations: 4523)
  Rendered layout layouts/application.html.erb (Duration: 88.3ms | Allocations: 28144)
Completed 200 OK in 113ms (Views: 91.7ms | ActiveRecord: 2.6ms | Allocations: 44588)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:52:26 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 118.2ms | Allocations: 3395)
  Rendered layout layouts/application.html.erb (Duration: 125.8ms | Allocations: 10148)
Completed 200 OK in 160ms (Views: 126.6ms | ActiveRecord: 3.4ms | Allocations: 13428)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:53:51 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 286.2ms | Allocations: 4254)
  Rendered layout layouts/application.html.erb (Duration: 322.7ms | Allocations: 27918)
Completed 200 OK in 342ms (Views: 323.3ms | ActiveRecord: 3.9ms | Allocations: 44336)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:54:08 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 162.1ms | Allocations: 3647)
  Rendered layout layouts/application.html.erb (Duration: 171.1ms | Allocations: 10739)
Completed 200 OK in 198ms (Views: 181.8ms | ActiveRecord: 0.9ms | Allocations: 14554)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:54:10 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 147.4ms | Allocations: 3200)
  Rendered layout layouts/application.html.erb (Duration: 164.4ms | Allocations: 9953)
Completed 200 OK in 177ms (Views: 165.0ms | ActiveRecord: 0.6ms | Allocations: 13190)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:54:21 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 64.0ms | Allocations: 3643)
  Rendered layout layouts/application.html.erb (Duration: 71.9ms | Allocations: 10859)
Completed 200 OK in 107ms (Views: 73.5ms | ActiveRecord: 0.5ms | Allocations: 14680)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:55:30 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 178.3ms | Allocations: 4769)
  Rendered layout layouts/application.html.erb (Duration: 204.7ms | Allocations: 28605)
Completed 200 OK in 233ms (Views: 206.8ms | ActiveRecord: 2.3ms | Allocations: 45412)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:57:32 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1347)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1436)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 1.9ms | Allocations: 5210)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center">
  <div>
    <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
  </div>
  <%= @user.username %>
</div>

<%= form_with model: @activity, url: activities_path do |form| %>
  <div class="field" data-controller="activity-type">
    <%= form.label :user_id %>
    <%= form.number_field :user_id %>
  </div>

  <div class="field">
    <%= form.label :carbon_emission %>
    <%= form.number_field :carbon_emission %>
  </div>

  <div class="field">
    <%= form.label :type_id %>
    <%= select_tag "activity_type", <%= options_for_select(@activity_types) %>
 %>
  </div>

  <div class="field">
    <%= form.label :value, "Value", id: 'activity_value_label' %>
    <%= form.number_field :value, id: 'activity_value' %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>




<%= ClimatiqEstimationService.calculate_carbon_emission(1, 200) %>
):
1:    <div class="flex flex-col items-center">
2:      <div>
3:        <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
4:      </div>
5:      <%= @user.username %>
6:    </div>
7:    
8:    <%= form_with model: @activity, url: activities_path do |form| %>
9:      <div class="field" data-controller="activity-type">
10:        <%= form.label :user_id %>
11:        <%= form.number_field :user_id %>
12:      </div>
13:    
14:      <div class="field">
15:        <%= form.label :carbon_emission %>
16:        <%= form.number_field :carbon_emission %>
17:      </div>
18:    
19:      <div class="field">
20:        <%= form.label :type_id %>
21:        <%= select_tag "activity_type", <%= options_for_select(@activity_types) %>
22:     %>
23:      </div>
24:    
25:      <div class="field">
26:        <%= form.label :value, "Value", id: 'activity_value_label' %>
27:        <%= form.number_field :value, id: 'activity_value' %>
28:      </div>
29:    
30:      <div class="actions">
31:        <%= form.submit %>
32:      </div>
33:    <% end %>
34:    
35:    
36:    
37:    
38:    <%= ClimatiqEstimationService.calculate_carbon_emission(1, 200) %>
  
app/views/user/show.html.erb:21: syntax error, unexpected '<'
app/views/user/show.html.erb:33: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:21: syntax error, unexpected '<'
app/views/user/show.html.erb:33: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:21: syntax error, unexpected '<'
app/views/user/show.html.erb:33: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:21: syntax error, unexpected '<'
app/views/user/show.html.erb:33: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:40: syntax error, unexpected `end', expecting ')'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:57:39 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1344)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 1433)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.5ms | Allocations: 5196)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center">
  <div>
    <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
  </div>
  <%= @user.username %>
</div>

<%= form_with model: @activity, url: activities_path do |form| %>
  <div class="field" data-controller="activity-type">
    <%= form.label :user_id %>
    <%= form.number_field :user_id %>
  </div>

  <div class="field">
    <%= form.label :carbon_emission %>
    <%= form.number_field :carbon_emission %>
  </div>

  <div class="field">
    <%= form.label :type_id %>
    <%= select_tag "activity_type", <%= options_for_select(@activity_types) %>
  </div>

  <div class="field">
    <%= form.label :value, "Value", id: 'activity_value_label' %>
    <%= form.number_field :value, id: 'activity_value' %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>




<%= ClimatiqEstimationService.calculate_carbon_emission(1, 200) %>
):
1:    <div class="flex flex-col items-center">
2:      <div>
3:        <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
4:      </div>
5:      <%= @user.username %>
6:    </div>
7:    
8:    <%= form_with model: @activity, url: activities_path do |form| %>
9:      <div class="field" data-controller="activity-type">
10:        <%= form.label :user_id %>
11:        <%= form.number_field :user_id %>
12:      </div>
13:    
14:      <div class="field">
15:        <%= form.label :carbon_emission %>
16:        <%= form.number_field :carbon_emission %>
17:      </div>
18:    
19:      <div class="field">
20:        <%= form.label :type_id %>
21:        <%= select_tag "activity_type", <%= options_for_select(@activity_types) %>
22:      </div>
23:    
24:      <div class="field">
25:        <%= form.label :value, "Value", id: 'activity_value_label' %>
26:        <%= form.number_field :value, id: 'activity_value' %>
27:      </div>
28:    
29:      <div class="actions">
30:        <%= form.submit %>
31:      </div>
32:    <% end %>
33:    
34:    
35:    
36:    
37:    <%= ClimatiqEstimationService.calculate_carbon_emission(1, 200) %>
  
app/views/user/show.html.erb:21: syntax error, unexpected '<'
app/views/user/show.html.erb:32: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:39: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:21: syntax error, unexpected '<'
app/views/user/show.html.erb:32: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:39: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:21: syntax error, unexpected '<'
app/views/user/show.html.erb:32: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:39: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:21: syntax error, unexpected '<'
app/views/user/show.html.erb:32: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:39: syntax error, unexpected `end', expecting ')'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:57:50 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 295.7ms | Allocations: 3860)
  Rendered layout layouts/application.html.erb (Duration: 325.8ms | Allocations: 11075)
Completed 200 OK in 340ms (Views: 328.6ms | ActiveRecord: 0.7ms | Allocations: 14855)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:59:00 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2788)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 2876)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 0.8ms | Allocations: 6638)


  
ActionView::Template::Error (undefined method `name' for an instance of String):
    18: 
    19:   <div class="field">
    20:     <%= form.label :type_id %>
    21:     <%= form.collection_select :type_id, @activity_types, :id, :name, {}, { data: { activityTypeTarget: 'typeId' }, data: { action: 'change->activity-type#updateLabel' } } %>
    22: 
    23:     <%= select_tag "activity_type", options_for_select(@activity_types) %>
    24:   </div>
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:59:13 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 2384)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 2472)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 3.0ms | Allocations: 18852)


  
ActionView::Template::Error (undefined method `name' for an instance of String):
    18: 
    19:   <div class="field">
    20:     <%= form.label :type_id %>
    21:     <%= form.collection_select :type_id, @activity_types, :id, :name, {}, { data: { activityTypeTarget: 'typeId' }, data: { action: 'change->activity-type#updateLabel' } } %>
    22: 
    23:     <%= select_tag "activity_type", options_for_select(@activity_types) %>
    24:   </div>
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 02:59:32 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 208.1ms | Allocations: 5252)
  Rendered layout layouts/application.html.erb (Duration: 230.7ms | Allocations: 29087)
Completed 200 OK in 259ms (Views: 238.3ms | ActiveRecord: 1.1ms | Allocations: 32882)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:00:12 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 169.1ms | Allocations: 4193)
  Rendered layout layouts/application.html.erb (Duration: 180.2ms | Allocations: 11408)
Completed 200 OK in 190ms (Views: 181.8ms | ActiveRecord: 0.6ms | Allocations: 15195)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:00:49 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 2.0ms | Allocations: 13627)


  
NameError (undefined local variable or method `activity_types' for an instance of UserController):
  
app/controllers/user_controller.rb:8:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:00:57 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.8ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 252.5ms | Allocations: 5147)
  Rendered layout layouts/application.html.erb (Duration: 293.5ms | Allocations: 28982)
Completed 200 OK in 313ms (Views: 294.7ms | ActiveRecord: 2.7ms | Allocations: 45778)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:01:49 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 127.7ms | Allocations: 4807)
  Rendered layout layouts/application.html.erb (Duration: 145.7ms | Allocations: 28427)
Completed 200 OK in 166ms (Views: 146.5ms | ActiveRecord: 2.4ms | Allocations: 44826)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:02:44 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 519.6ms | Allocations: 4805)
  Rendered layout layouts/application.html.erb (Duration: 554.2ms | Allocations: 28427)
Completed 200 OK in 574ms (Views: 555.0ms | ActiveRecord: 2.5ms | Allocations: 44830)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:03:56 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 124.9ms | Allocations: 4884)
  Rendered layout layouts/application.html.erb (Duration: 143.3ms | Allocations: 28506)
Completed 200 OK in 162ms (Views: 144.0ms | ActiveRecord: 2.3ms | Allocations: 44913)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:04:14 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 362.9ms | Allocations: 4801)
  Rendered layout layouts/application.html.erb (Duration: 405.4ms | Allocations: 28424)
Completed 200 OK in 433ms (Views: 406.1ms | ActiveRecord: 2.4ms | Allocations: 44837)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:05:09 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 195.9ms | Allocations: 4802)
  Rendered layout layouts/application.html.erb (Duration: 236.0ms | Allocations: 28425)
Completed 200 OK in 263ms (Views: 236.7ms | ActiveRecord: 2.5ms | Allocations: 44857)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:05:22 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.8ms | Allocations: 13608)


  
NoMethodError (undefined method `map' for nil):
  
app/controllers/user_controller.rb:7:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:05:24 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.5ms | Allocations: 3400)


  
NoMethodError (undefined method `map' for nil):
  
app/controllers/user_controller.rb:7:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:05:28 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.5ms | Allocations: 3400)


  
NoMethodError (undefined method `map' for nil):
  
app/controllers/user_controller.rb:7:in `show'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:05:29 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2370)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 2458)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.0ms | Allocations: 18905)


  
ActionView::Template::Error (undefined method `map' for nil):
    18: 
    19:   <div class="field">
    20:     <%= form.label :type_id %>
    21:     <%= form.collection_select :type_id, @activity_type, :id, :name, {} %>
    22: 
    23:     <%= select_tag "activity[type_id]", options_for_select(@activity_types) %>
    24:   </div>
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:05:40 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2364)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2452)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.8ms | Allocations: 18860)


  
ActionView::Template::Error (undefined method `map' for nil):
    18: 
    19:   <div class="field">
    20:     <%= form.label :type_id %>
    21:     <%= form.collection_select :type_id, @activity_type, :id, :name, {} %>
    22: 
    23:     <%= select_tag "activity[type_id]", options_for_select(@activity_types) %>
    24:   </div>
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:06:05 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 18.0ms | Allocations: 2334)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 2421)
Completed 500 Internal Server Error in 60ms (ActiveRecord: 1.8ms | Allocations: 5665)


  
ActionView::Template::Error (undefined method `map' for nil):
    18: 
    19:   <div class="field">
    20:     <%= form.label :type_id %>
    21:     <%= form.collection_select :type_id, @activity_type, :id, :name, {} %>
    22: 
    23:     <%= select_tag "activity[type_id]", options_for_select(@activity_types) %>
    24:   </div>
  
app/views/user/show.html.erb:21
app/views/user/show.html.erb:8
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:06:18 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 343.4ms | Allocations: 4824)
  Rendered layout layouts/application.html.erb (Duration: 387.0ms | Allocations: 28661)
Completed 200 OK in 429ms (Views: 390.9ms | ActiveRecord: 3.0ms | Allocations: 45501)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:09:19 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 459.3ms | Allocations: 4284)
  Rendered layout layouts/application.html.erb (Duration: 496.5ms | Allocations: 28125)
Completed 200 OK in 518ms (Views: 497.8ms | ActiveRecord: 2.3ms | Allocations: 44938)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:10:16 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 209.8ms | Allocations: 4013)
  Rendered layout layouts/application.html.erb (Duration: 231.0ms | Allocations: 27636)
Completed 200 OK in 252ms (Views: 231.6ms | ActiveRecord: 2.6ms | Allocations: 44051)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:10:21 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms | Allocations: 2467)


  
NoMethodError (undefined method `load_activity_types' for an instance of ActivitiesController):
  
activesupport (7.0.8) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:180:in `block (2 levels) in halting_and_conditional'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:181:in `block in halting_and_conditional'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
turbo-rails (2.0.3) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.3) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
actiontext (7.0.8) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.8) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.8) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.8) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
actionpack (7.0.8) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.8) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:10:49 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 505.4ms | Allocations: 4010)
  Rendered layout layouts/application.html.erb (Duration: 561.1ms | Allocations: 27633)
Completed 200 OK in 583ms (Views: 562.3ms | ActiveRecord: 2.6ms | Allocations: 44046)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:10:53 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 2436)


  
NoMethodError (undefined method `load_activity_types' for an instance of ActivitiesController):
  
activesupport (7.0.8) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.8) lib/active_support/callbacks.rb:180:in `block (2 levels) in halting_and_conditional'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.8) lib/active_support/callbacks.rb:181:in `block in halting_and_conditional'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.8) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.8) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
turbo-rails (2.0.3) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.3) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
actiontext (7.0.8) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.8) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.8) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.8) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
actionpack (7.0.8) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.8) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.8) lib/puma/configuration.rb:252:in `call'
puma (5.6.8) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.8) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.8) lib/puma/request.rb:76:in `handle_request'
puma (5.6.8) lib/puma/server.rb:443:in `process_client'
puma (5.6.8) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:12:12 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 214.3ms | Allocations: 4010)
  Rendered layout layouts/application.html.erb (Duration: 246.0ms | Allocations: 27630)
Completed 200 OK in 263ms (Views: 246.7ms | ActiveRecord: 2.2ms | Allocations: 44044)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:12:15 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms | Allocations: 2353)


  
NoMethodError (undefined method `user_id=' for nil):
  
app/controllers/activities_controller.rb:7:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:13:33 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 503.7ms | Allocations: 4010)
  Rendered layout layouts/application.html.erb (Duration: 547.7ms | Allocations: 27629)
Completed 200 OK in 567ms (Views: 548.5ms | ActiveRecord: 2.2ms | Allocations: 44031)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:13:36 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
[31mUnpermitted parameter: :type_id. Context: { controller: ActivitiesController, action: create, request: #<ActionDispatch::Request:0x00000001354b64b0>, params: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity", "controller"=>"activities", "action"=>"create"} }[0m
[31mUnpermitted parameter: :type_id. Context: { controller: ActivitiesController, action: create, request: #<ActionDispatch::Request:0x00000001354b64b0>, params: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity", "controller"=>"activities", "action"=>"create"} }[0m
Completed 404 Not Found in 4ms (ActiveRecord: 0.1ms | Allocations: 2706)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:25:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:9:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:13:36 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 75.6ms | Allocations: 2977)
  Rendered layout layouts/application.html.erb (Duration: 80.1ms | Allocations: 9929)
Completed 200 OK in 83ms (Views: 80.3ms | ActiveRecord: 0.3ms | Allocations: 13154)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:14:40 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 163.9ms | Allocations: 2937)
  Rendered layout layouts/application.html.erb (Duration: 176.6ms | Allocations: 9690)
Completed 200 OK in 194ms (Views: 178.5ms | ActiveRecord: 0.6ms | Allocations: 12930)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:14:43 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
[31mUnpermitted parameter: :type_id. Context: { controller: ActivitiesController, action: create, request: #<ActionDispatch::Request:0x00000001370ba508>, params: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity", "controller"=>"activities", "action"=>"create"} }[0m
[31mUnpermitted parameter: :type_id. Context: { controller: ActivitiesController, action: create, request: #<ActionDispatch::Request:0x00000001370ba508>, params: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity", "controller"=>"activities", "action"=>"create"} }[0m
Completed 404 Not Found in 5ms (ActiveRecord: 0.2ms | Allocations: 2660)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:25:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:9:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:14:43 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 162.9ms | Allocations: 2976)
  Rendered layout layouts/application.html.erb (Duration: 170.6ms | Allocations: 9928)
Completed 200 OK in 175ms (Views: 170.9ms | ActiveRecord: 0.4ms | Allocations: 13180)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:15:19 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
[31mUnpermitted parameter: :type_id. Context: { controller: ActivitiesController, action: create, request: #<ActionDispatch::Request:0x00000001371bb380>, params: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity", "controller"=>"activities", "action"=>"create"} }[0m
[31mUnpermitted parameter: :type_id. Context: { controller: ActivitiesController, action: create, request: #<ActionDispatch::Request:0x00000001371bb380>, params: {"authenticity_token"=>"[FILTERED]", "activity"=>{"type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity", "controller"=>"activities", "action"=>"create"} }[0m
Completed 404 Not Found in 13ms (ActiveRecord: 0.4ms | Allocations: 2636)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:25:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:9:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:15:19 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 492.9ms | Allocations: 2975)
  Rendered layout layouts/application.html.erb (Duration: 515.4ms | Allocations: 9928)
Completed 200 OK in 520ms (Views: 515.9ms | ActiveRecord: 0.4ms | Allocations: 13156)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:16:31 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 181.7ms | Allocations: 3340)
  Rendered layout layouts/application.html.erb (Duration: 191.5ms | Allocations: 10357)
Completed 200 OK in 206ms (Views: 193.6ms | ActiveRecord: 0.6ms | Allocations: 14173)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:16:34 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 404 Not Found in 7ms (ActiveRecord: 0.3ms | Allocations: 2502)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:25:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:9:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:16:34 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 68.3ms | Allocations: 2974)
  Rendered layout layouts/application.html.erb (Duration: 73.2ms | Allocations: 9926)
Completed 200 OK in 78ms (Views: 73.4ms | ActiveRecord: 0.4ms | Allocations: 13185)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:17:42 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:7:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 239.2ms | Allocations: 3373)
  Rendered layout layouts/application.html.erb (Duration: 265.4ms | Allocations: 10388)
Completed 200 OK in 279ms (Views: 268.0ms | ActiveRecord: 0.5ms | Allocations: 14179)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:17:52 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:6:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1587)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1675)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.1ms | Allocations: 16993)


  
ActionView::Template::Error (undefined method `username' for nil):
    2:   <div>
    3:     <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
    4:   </div>
    5:   <%= @user.username %>
    6: </div>
    7: 
    8: <%= form_with model: @activity, url: activities_path do |form| %>
  
app/views/user/show.html.erb:5
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:18:01 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 64.2ms | Allocations: 4009)
  Rendered layout layouts/application.html.erb (Duration: 80.7ms | Allocations: 27628)
Completed 200 OK in 100ms (Views: 81.5ms | ActiveRecord: 2.2ms | Allocations: 44056)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:18:07 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 404 Not Found in 4ms (ActiveRecord: 0.2ms | Allocations: 2509)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:25:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:9:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:18:07 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 272.2ms | Allocations: 2977)
  Rendered layout layouts/application.html.erb (Duration: 284.9ms | Allocations: 9929)
Completed 200 OK in 289ms (Views: 285.3ms | ActiveRecord: 0.4ms | Allocations: 13178)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:20:53 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 192.8ms | Allocations: 4077)
  Rendered layout layouts/application.html.erb (Duration: 218.4ms | Allocations: 27699)
Completed 200 OK in 247ms (Views: 219.1ms | ActiveRecord: 4.3ms | Allocations: 44089)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:20:57 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"200"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 404 Not Found in 5ms (ActiveRecord: 0.2ms | Allocations: 2593)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:25:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:9:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:20:57 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 117.3ms | Allocations: 2980)
  Rendered layout layouts/application.html.erb (Duration: 122.6ms | Allocations: 9932)
Completed 200 OK in 126ms (Views: 122.8ms | ActiveRecord: 0.4ms | Allocations: 13178)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:21:56 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 135.6ms | Allocations: 4006)
  Rendered layout layouts/application.html.erb (Duration: 155.2ms | Allocations: 27626)
Completed 200 OK in 177ms (Views: 156.0ms | ActiveRecord: 3.0ms | Allocations: 44013)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:22:00 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms | Allocations: 2485)


  
NoMethodError (undefined method `activity_type_id=' for an instance of Activity):
  
app/controllers/activities_controller.rb:9:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:22:21 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 155.3ms | Allocations: 4011)
  Rendered layout layouts/application.html.erb (Duration: 193.6ms | Allocations: 27707)
Completed 200 OK in 214ms (Views: 194.4ms | ActiveRecord: 2.6ms | Allocations: 44154)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:22:24 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 404 Not Found in 24ms (ActiveRecord: 1.8ms | Allocations: 14676)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/controllers/activities_controller.rb:9:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:22:24 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 71.4ms | Allocations: 4002)
  Rendered layout layouts/application.html.erb (Duration: 82.9ms | Allocations: 27622)
Completed 200 OK in 87ms (Views: 83.5ms | ActiveRecord: 0.4ms | Allocations: 31821)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:22:32 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 147.2ms | Allocations: 2977)
  Rendered layout layouts/application.html.erb (Duration: 156.0ms | Allocations: 9931)
Completed 200 OK in 188ms (Views: 156.4ms | ActiveRecord: 0.8ms | Allocations: 13169)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:22:34 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 280.9ms | Allocations: 2946)
  Rendered layout layouts/application.html.erb (Duration: 300.8ms | Allocations: 9885)
Completed 200 OK in 313ms (Views: 301.8ms | ActiveRecord: 1.0ms | Allocations: 13122)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:22:37 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 404 Not Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2432)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/controllers/activities_controller.rb:9:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:22:37 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 349.9ms | Allocations: 2976)
  Rendered layout layouts/application.html.erb (Duration: 359.4ms | Allocations: 9928)
Completed 200 OK in 363ms (Views: 359.7ms | ActiveRecord: 0.2ms | Allocations: 13156)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:23:21 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 514.6ms | Allocations: 4081)
  Rendered layout layouts/application.html.erb (Duration: 562.7ms | Allocations: 27701)
Completed 200 OK in 584ms (Views: 563.4ms | ActiveRecord: 2.3ms | Allocations: 44107)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:23:23 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 404 Not Found in 4ms (ActiveRecord: 0.2ms | Allocations: 2569)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:27:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:11:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:23:23 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 115.1ms | Allocations: 2979)
  Rendered layout layouts/application.html.erb (Duration: 120.5ms | Allocations: 9931)
Completed 200 OK in 124ms (Views: 120.7ms | ActiveRecord: 0.3ms | Allocations: 13162)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:23:31 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 163.0ms | Allocations: 2974)
  Rendered layout layouts/application.html.erb (Duration: 172.4ms | Allocations: 9928)
Completed 200 OK in 180ms (Views: 174.8ms | ActiveRecord: 0.5ms | Allocations: 13180)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:23:34 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 404 Not Found in 7ms (ActiveRecord: 0.2ms | Allocations: 2547)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:27:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:11:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:23:34 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 163.1ms | Allocations: 2980)
  Rendered layout layouts/application.html.erb (Duration: 170.7ms | Allocations: 9932)
Completed 200 OK in 174ms (Views: 171.0ms | ActiveRecord: 0.3ms | Allocations: 13166)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 03:26:10 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 259.9ms | Allocations: 4006)
  Rendered layout layouts/application.html.erb (Duration: 291.8ms | Allocations: 27626)
Completed 200 OK in 318ms (Views: 292.7ms | ActiveRecord: 4.5ms | Allocations: 44035)


Started GET "/user/d" for 127.0.0.1 at 2024-03-11 03:26:12 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"d"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
Completed 404 Not Found in 13ms (ActiveRecord: 4.4ms | Allocations: 2779)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=d):
  
app/controllers/user_controller.rb:3:in `show'
Started GET "/use" for 127.0.0.1 at 2024-03-11 03:26:17 +0800
  
ActionController::RoutingError (No route matches [GET] "/use"):
  
Started GET "/uses" for 127.0.0.1 at 2024-03-11 03:26:18 +0800
  
ActionController::RoutingError (No route matches [GET] "/uses"):
  
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:26:34 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 68.5ms | Allocations: 2977)
  Rendered layout layouts/application.html.erb (Duration: 77.4ms | Allocations: 9929)
Completed 200 OK in 92ms (Views: 78.2ms | ActiveRecord: 0.9ms | Allocations: 13163)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:26:58 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 202.3ms | Allocations: 4009)
  Rendered layout layouts/application.html.erb (Duration: 229.1ms | Allocations: 27629)
Completed 200 OK in 249ms (Views: 229.9ms | ActiveRecord: 2.4ms | Allocations: 44038)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:27:01 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 404 Not Found in 7ms (ActiveRecord: 0.3ms | Allocations: 2520)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:25:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:9:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:27:01 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 144.1ms | Allocations: 2979)
  Rendered layout layouts/application.html.erb (Duration: 150.6ms | Allocations: 9931)
Completed 200 OK in 154ms (Views: 150.9ms | ActiveRecord: 0.3ms | Allocations: 13192)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:27:46 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 337.2ms | Allocations: 4005)
  Rendered layout layouts/application.html.erb (Duration: 373.9ms | Allocations: 27625)
Completed 200 OK in 397ms (Views: 374.6ms | ActiveRecord: 2.5ms | Allocations: 51977)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:27:49 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:8:in `create'
Completed 404 Not Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1603)


  
ActiveRecord::RecordNotFound (Couldn't find ActivityType without an ID):
  
app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:25:in `calculate_carbon_emission'
app/controllers/activities_controller.rb:9:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:27:49 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:8:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  [1m[36mCACHE ActivityType Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ? AND "activity_types"."id" = ? LIMIT ?[0m  [["user_id", 5], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:10:in `block in show'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 227.2ms | Allocations: 2977)
  Rendered layout layouts/application.html.erb (Duration: 246.7ms | Allocations: 9930)
Completed 200 OK in 256ms (Views: 247.1ms | ActiveRecord: 0.8ms | Allocations: 21836)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:30:09 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 517.1ms | Allocations: 4008)
  Rendered layout layouts/application.html.erb (Duration: 549.0ms | Allocations: 27628)
Completed 200 OK in 572ms (Views: 549.7ms | ActiveRecord: 2.2ms | Allocations: 44048)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:30:12 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"10"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.6ms | Allocations: 2368)


  
NameError (undefined local variable or method `activity' for an instance of ActivitiesController):
  
app/controllers/activities_controller.rb:10:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:30:40 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 226.2ms | Allocations: 4011)
  Rendered layout layouts/application.html.erb (Duration: 252.5ms | Allocations: 27631)
Completed 200 OK in 272ms (Views: 253.4ms | ActiveRecord: 2.1ms | Allocations: 44028)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:30:59 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.8ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 201.1ms | Allocations: 4009)
  Rendered layout layouts/application.html.erb (Duration: 297.4ms | Allocations: 27699)
Completed 200 OK in 325ms (Views: 302.1ms | ActiveRecord: 3.2ms | Allocations: 44131)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:31:02 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 2379)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/activities_controller.rb:10:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:31:36 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 185.6ms | Allocations: 4011)
  Rendered layout layouts/application.html.erb (Duration: 215.4ms | Allocations: 27662)
Completed 200 OK in 233ms (Views: 216.1ms | ActiveRecord: 2.2ms | Allocations: 44064)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:31:39 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 2387)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/activities_controller.rb:10:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:32:07 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 98.3ms | Allocations: 4009)
  Rendered layout layouts/application.html.erb (Duration: 118.0ms | Allocations: 27629)
Completed 200 OK in 141ms (Views: 118.7ms | ActiveRecord: 2.2ms | Allocations: 44048)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:32:10 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:13:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:13:in `create'
Completed 500 Internal Server Error in 172ms (ActiveRecord: 0.9ms | Allocations: 9292)


  
ActionView::MissingTemplate (Missing template activities/new, application/new with {:locale=>[:en], :formats=>[:turbo_stream, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}.

Searched in:
  * "/Users/max/Desktop/University/BIT216/CarbonByte/app/views"
  * "/Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/devise-4.9.3/app/views"
  * "/Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/turbo-rails-2.0.3/app/views"
  * "/Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actiontext-7.0.8/app/views"
  * "/Users/max/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/actionmailbox-7.0.8/app/views"
):
  
app/controllers/activities_controller.rb:16:in `create'
Started GET "/use" for 127.0.0.1 at 2024-03-11 03:32:50 +0800
  
ActionController::RoutingError (No route matches [GET] "/use"):
  
Started GET "/use" for 127.0.0.1 at 2024-03-11 03:32:50 +0800
  
ActionController::RoutingError (No route matches [GET] "/use"):
  
Started GET "/use" for 127.0.0.1 at 2024-03-11 03:33:29 +0800
  
ActionController::RoutingError (No route matches [GET] "/use"):
  
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:33:33 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 226.6ms | Allocations: 4009)
  Rendered layout layouts/application.html.erb (Duration: 264.5ms | Allocations: 27629)
Completed 200 OK in 300ms (Views: 265.4ms | ActiveRecord: 3.5ms | Allocations: 44074)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:33:35 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"111"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 121ms (ActiveRecord: 0.5ms | Allocations: 7970)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:33:35 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 161.6ms | Allocations: 2942)
  Rendered layout layouts/application.html.erb (Duration: 179.9ms | Allocations: 9875)
Completed 200 OK in 185ms (Views: 180.3ms | ActiveRecord: 0.4ms | Allocations: 13122)


  [1m[36mActivity Load (0.4ms)[0m  [1m[34mSELECT "activities".* FROM "activities"[0m
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:34:37 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 195.6ms | Allocations: 4006)
  Rendered layout layouts/application.html.erb (Duration: 218.0ms | Allocations: 27627)
Completed 200 OK in 245ms (Views: 218.8ms | ActiveRecord: 2.4ms | Allocations: 44035)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:34:39 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 70ms (ActiveRecord: 0.4ms | Allocations: 7936)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:34:39 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 76.4ms | Allocations: 2940)
  Rendered layout layouts/application.html.erb (Duration: 87.5ms | Allocations: 9710)
Completed 200 OK in 93ms (Views: 87.9ms | ActiveRecord: 0.4ms | Allocations: 12934)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:35:41 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 163.7ms | Allocations: 4082)
  Rendered layout layouts/application.html.erb (Duration: 190.5ms | Allocations: 27703)
Completed 200 OK in 208ms (Views: 191.2ms | ActiveRecord: 2.3ms | Allocations: 44100)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:35:44 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 2461)


  
NoMethodError (undefined method `[]' for nil):
  
app/controllers/activities_controller.rb:10:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:36:47 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (1.7ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 136.5ms | Allocations: 4012)
  Rendered layout layouts/application.html.erb (Duration: 157.7ms | Allocations: 27632)
Completed 200 OK in 192ms (Views: 158.3ms | ActiveRecord: 3.5ms | Allocations: 44065)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:36:49 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms | Allocations: 2453)


  
NoMethodError (undefined method `[]' for nil):
  
app/controllers/activities_controller.rb:10:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:38:31 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 301.4ms | Allocations: 4011)
  Rendered layout layouts/application.html.erb (Duration: 341.2ms | Allocations: 27631)
Completed 200 OK in 379ms (Views: 342.1ms | ActiveRecord: 3.2ms | Allocations: 44057)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:38:35 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 2453)


  
NoMethodError (undefined method `[]' for nil):
  
app/controllers/activities_controller.rb:10:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:39:17 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 126.2ms | Allocations: 4009)
  Rendered layout layouts/application.html.erb (Duration: 149.0ms | Allocations: 27630)
Completed 200 OK in 167ms (Views: 149.6ms | ActiveRecord: 2.2ms | Allocations: 44044)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:39:19 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
[31mUnpermitted parameters: :authenticity_token, :commit. Context: { controller: ActivitiesController, action: create, request: #<ActionDispatch::Request:0x0000000137fb7bc8>, params: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity", "controller"=>"activities", "action"=>"create"} }[0m
[31mUnpermitted parameters: :authenticity_token, :commit. Context: { controller: ActivitiesController, action: create, request: #<ActionDispatch::Request:0x0000000137fb7bc8>, params: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity", "controller"=>"activities", "action"=>"create"} }[0m
[31mUnpermitted parameters: :authenticity_token, :commit. Context: { controller: ActivitiesController, action: create, request: #<ActionDispatch::Request:0x0000000137fb7bc8>, params: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity", "controller"=>"activities", "action"=>"create"} }[0m
[31mUnpermitted parameters: :authenticity_token, :commit. Context: { controller: ActivitiesController, action: create, request: #<ActionDispatch::Request:0x0000000137fb7bc8>, params: {"authenticity_token"=>"[FILTERED]", "activity_type_id"=>"2", "activity"=>{"value"=>"100"}, "commit"=>"Create Activity", "controller"=>"activities", "action"=>"create"} }[0m
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:13:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 77ms (ActiveRecord: 0.8ms | Allocations: 8585)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:39:19 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 159.0ms | Allocations: 2966)
  Rendered layout layouts/application.html.erb (Duration: 174.8ms | Allocations: 9720)
Completed 200 OK in 179ms (Views: 175.2ms | ActiveRecord: 0.3ms | Allocations: 12946)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:40:15 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 275.9ms | Allocations: 4282)
  Rendered layout layouts/application.html.erb (Duration: 312.9ms | Allocations: 28117)
Completed 200 OK in 331ms (Views: 314.1ms | ActiveRecord: 2.1ms | Allocations: 44917)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:40:18 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activitiy"=>{"activity_type_id"=>"2"}, "activity"=>{"value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 2437)


  
NoMethodError (undefined method `[]' for nil):
  
app/controllers/activities_controller.rb:10:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:41:05 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 286.6ms | Allocations: 3339)
  Rendered layout layouts/application.html.erb (Duration: 307.4ms | Allocations: 10557)
Completed 200 OK in 337ms (Views: 310.2ms | ActiveRecord: 1.2ms | Allocations: 14355)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:41:08 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 2420)


  
NoMethodError (undefined method `[]' for nil):
  
app/controllers/activities_controller.rb:10:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:42:09 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 241.9ms | Allocations: 4279)
  Rendered layout layouts/application.html.erb (Duration: 268.7ms | Allocations: 28114)
Completed 200 OK in 301ms (Views: 270.2ms | ActiveRecord: 2.7ms | Allocations: 44935)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:42:11 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 2511)


  
NoMethodError (undefined method `[]' for nil):
  
app/controllers/activities_controller.rb:11:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:42:33 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 75.4ms | Allocations: 4009)
  Rendered layout layouts/application.html.erb (Duration: 96.8ms | Allocations: 27685)
Completed 200 OK in 116ms (Views: 97.6ms | ActiveRecord: 2.1ms | Allocations: 44144)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:42:35 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 165ms (ActiveRecord: 0.5ms | Allocations: 8112)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:42:35 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 140.8ms | Allocations: 2975)
  Rendered layout layouts/application.html.erb (Duration: 158.1ms | Allocations: 9811)
Completed 200 OK in 164ms (Views: 158.7ms | ActiveRecord: 0.4ms | Allocations: 13084)


  [1m[36mActivity Load (1.4ms)[0m  [1m[34mSELECT "activities".* FROM "activities"[0m
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:44:29 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 287.3ms | Allocations: 4007)
  Rendered layout layouts/application.html.erb (Duration: 316.8ms | Allocations: 27627)
Completed 200 OK in 334ms (Views: 317.5ms | ActiveRecord: 2.2ms | Allocations: 44018)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:44:32 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 73ms (ActiveRecord: 0.6ms | Allocations: 8108)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:44:32 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 237.9ms | Allocations: 2970)
  Rendered layout layouts/application.html.erb (Duration: 269.9ms | Allocations: 9923)
Completed 200 OK in 275ms (Views: 270.4ms | ActiveRecord: 0.4ms | Allocations: 13182)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:44:57 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 394.9ms | Allocations: 4006)
  Rendered layout layouts/application.html.erb (Duration: 438.9ms | Allocations: 27640)
Completed 200 OK in 473ms (Views: 439.7ms | ActiveRecord: 2.5ms | Allocations: 44077)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:45:14 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 192.1ms | Allocations: 4010)
  Rendered layout layouts/application.html.erb (Duration: 216.2ms | Allocations: 27630)
Completed 200 OK in 238ms (Views: 217.0ms | ActiveRecord: 2.2ms | Allocations: 44032)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:45:16 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:16:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:16:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 215ms (ActiveRecord: 0.6ms | Allocations: 9446)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:45:16 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 72.5ms | Allocations: 2974)
  Rendered layout layouts/application.html.erb (Duration: 82.4ms | Allocations: 9930)
Completed 200 OK in 86ms (Views: 82.6ms | ActiveRecord: 0.4ms | Allocations: 13174)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:46:35 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 245.9ms | Allocations: 4008)
  Rendered layout layouts/application.html.erb (Duration: 289.4ms | Allocations: 27628)
Completed 200 OK in 328ms (Views: 290.1ms | ActiveRecord: 2.3ms | Allocations: 44061)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:46:38 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:18:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:18:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 276ms (ActiveRecord: 0.7ms | Allocations: 9535)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:46:38 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 224.2ms | Allocations: 2945)
  Rendered layout layouts/application.html.erb (Duration: 239.5ms | Allocations: 9698)
Completed 200 OK in 245ms (Views: 240.1ms | ActiveRecord: 0.3ms | Allocations: 12921)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:47:04 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"1", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:18:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:18:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 136ms (ActiveRecord: 0.6ms | Allocations: 7602)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:47:05 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 152.8ms | Allocations: 2974)
  Rendered layout layouts/application.html.erb (Duration: 167.9ms | Allocations: 9926)
Completed 200 OK in 173ms (Views: 168.4ms | ActiveRecord: 0.3ms | Allocations: 13158)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:47:19 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"1", "value"=>"200"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:18:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:18:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 214ms (ActiveRecord: 1.2ms | Allocations: 7583)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:47:19 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 151.2ms | Allocations: 2937)
  Rendered layout layouts/application.html.erb (Duration: 161.5ms | Allocations: 9690)
Completed 200 OK in 171ms (Views: 162.5ms | ActiveRecord: 0.5ms | Allocations: 12907)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:48:00 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 234.3ms | Allocations: 4006)
  Rendered layout layouts/application.html.erb (Duration: 273.8ms | Allocations: 27655)
Completed 200 OK in 292ms (Views: 274.5ms | ActiveRecord: 2.2ms | Allocations: 44058)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:48:03 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 148ms (ActiveRecord: 0.9ms | Allocations: 8117)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:48:04 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 240.3ms | Allocations: 2968)
  Rendered layout layouts/application.html.erb (Duration: 254.3ms | Allocations: 9798)
Completed 200 OK in 261ms (Views: 254.8ms | ActiveRecord: 0.6ms | Allocations: 13036)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:48:30 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.7ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 429.4ms | Allocations: 4283)
  Rendered layout layouts/application.html.erb (Duration: 460.1ms | Allocations: 28118)
Completed 200 OK in 481ms (Views: 462.1ms | ActiveRecord: 2.5ms | Allocations: 44991)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:49:02 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.8ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 195.2ms | Allocations: 4011)
  Rendered layout layouts/application.html.erb (Duration: 219.5ms | Allocations: 27632)
Completed 200 OK in 249ms (Views: 220.4ms | ActiveRecord: 3.4ms | Allocations: 44057)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:49:04 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:16:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:16:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 210ms (ActiveRecord: 0.8ms | Allocations: 9446)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:49:04 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 66.8ms | Allocations: 2962)
  Rendered layout layouts/application.html.erb (Duration: 73.4ms | Allocations: 9717)
Completed 200 OK in 81ms (Views: 73.8ms | ActiveRecord: 0.6ms | Allocations: 13002)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:49:22 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 145.4ms | Allocations: 4149)
  Rendered layout layouts/application.html.erb (Duration: 171.5ms | Allocations: 27770)
Completed 200 OK in 212ms (Views: 174.0ms | ActiveRecord: 3.8ms | Allocations: 44287)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:49:27 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:16:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:16:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 245ms (ActiveRecord: 1.1ms | Allocations: 9902)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:49:27 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 70.0ms | Allocations: 3032)
  Rendered layout layouts/application.html.erb (Duration: 78.8ms | Allocations: 9991)
Completed 200 OK in 103ms (Views: 79.2ms | ActiveRecord: 0.3ms | Allocations: 13217)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:49:57 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 186.8ms | Allocations: 4067)
  Rendered layout layouts/application.html.erb (Duration: 217.8ms | Allocations: 27687)
Completed 200 OK in 238ms (Views: 218.5ms | ActiveRecord: 2.7ms | Allocations: 44079)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:50:00 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 164ms (ActiveRecord: 0.6ms | Allocations: 8570)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:50:00 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 62.4ms | Allocations: 3039)
  Rendered layout layouts/application.html.erb (Duration: 74.5ms | Allocations: 9991)
Completed 200 OK in 85ms (Views: 74.9ms | ActiveRecord: 0.6ms | Allocations: 13250)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:50:26 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 67.8ms | Allocations: 4067)
  Rendered layout layouts/application.html.erb (Duration: 114.2ms | Allocations: 27656)
Completed 200 OK in 149ms (Views: 115.2ms | ActiveRecord: 3.7ms | Allocations: 44085)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:50:28 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"11"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 130ms (ActiveRecord: 0.6ms | Allocations: 9938)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:50:29 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 147.7ms | Allocations: 3030)
  Rendered layout layouts/application.html.erb (Duration: 161.4ms | Allocations: 9939)
Completed 200 OK in 165ms (Views: 161.8ms | ActiveRecord: 0.3ms | Allocations: 13162)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:51:59 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 384.5ms | Allocations: 4067)
  Rendered layout layouts/application.html.erb (Duration: 423.5ms | Allocations: 27687)
Completed 200 OK in 461ms (Views: 424.2ms | ActiveRecord: 4.5ms | Allocations: 44102)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:52:02 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 171ms (ActiveRecord: 1.0ms | Allocations: 8620)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:52:02 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 187.6ms | Allocations: 3025)
  Rendered layout layouts/application.html.erb (Duration: 203.8ms | Allocations: 9778)
Completed 200 OK in 216ms (Views: 206.4ms | ActiveRecord: 0.8ms | Allocations: 12998)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:52:48 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 123.9ms | Allocations: 4062)
  Rendered layout layouts/application.html.erb (Duration: 143.9ms | Allocations: 27683)
Completed 200 OK in 161ms (Views: 144.5ms | ActiveRecord: 2.1ms | Allocations: 44088)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:52:54 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.4ms | Allocations: 2519)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/activities_controller.rb:12:in `is_a?'
app/controllers/activities_controller.rb:12:in `create'
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:53:16 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 219.4ms | Allocations: 4070)
  Rendered layout layouts/application.html.erb (Duration: 263.7ms | Allocations: 27692)
Completed 200 OK in 284ms (Views: 264.5ms | ActiveRecord: 2.3ms | Allocations: 44127)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:53:20 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 65ms (ActiveRecord: 0.6ms | Allocations: 8609)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:53:20 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 175.3ms | Allocations: 3031)
  Rendered layout layouts/application.html.erb (Duration: 192.2ms | Allocations: 9784)
Completed 200 OK in 198ms (Views: 193.0ms | ActiveRecord: 0.4ms | Allocations: 13004)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:53:55 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (1.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 141.9ms | Allocations: 4050)
  Rendered layout layouts/application.html.erb (Duration: 160.5ms | Allocations: 27257)
Completed 200 OK in 190ms (Views: 160.4ms | ActiveRecord: 4.0ms | Allocations: 43650)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:53:57 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 86ms (ActiveRecord: 0.5ms | Allocations: 8610)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:53:57 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 66.1ms | Allocations: 3040)
  Rendered layout layouts/application.html.erb (Duration: 74.2ms | Allocations: 9992)
Completed 200 OK in 79ms (Views: 74.5ms | ActiveRecord: 0.3ms | Allocations: 13212)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:54:25 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 64.9ms | Allocations: 4042)
  Rendered layout layouts/application.html.erb (Duration: 81.5ms | Allocations: 27462)
Completed 200 OK in 100ms (Views: 82.2ms | ActiveRecord: 2.2ms | Allocations: 43846)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:54:27 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 71ms (ActiveRecord: 0.4ms | Allocations: 8107)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:54:27 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 217.6ms | Allocations: 2940)
  Rendered layout layouts/application.html.erb (Duration: 232.0ms | Allocations: 9693)
Completed 200 OK in 236ms (Views: 232.5ms | ActiveRecord: 0.3ms | Allocations: 12919)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:54:46 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.9ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 145.0ms | Allocations: 4133)
  Rendered layout layouts/application.html.erb (Duration: 162.3ms | Allocations: 27753)
Completed 200 OK in 187ms (Views: 163.1ms | ActiveRecord: 2.8ms | Allocations: 44169)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:54:49 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 154ms (ActiveRecord: 1.3ms | Allocations: 8629)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:54:49 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 77.0ms | Allocations: 3025)
  Rendered layout layouts/application.html.erb (Duration: 88.9ms | Allocations: 9779)
Completed 200 OK in 94ms (Views: 89.3ms | ActiveRecord: 0.4ms | Allocations: 13023)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:55:01 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 256.5ms | Allocations: 4169)
  Rendered layout layouts/application.html.erb (Duration: 308.9ms | Allocations: 27526)
Completed 200 OK in 328ms (Views: 309.7ms | ActiveRecord: 2.4ms | Allocations: 43879)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 03:55:05 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"2", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
Redirected to http://127.0.0.1:3000/user/5
Completed 302 Found in 231ms (ActiveRecord: 0.6ms | Allocations: 8576)


Started GET "/user/5" for 127.0.0.1 at 2024-03-11 03:55:05 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 5]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 55.0ms | Allocations: 3076)
  Rendered layout layouts/application.html.erb (Duration: 61.2ms | Allocations: 9911)
Completed 200 OK in 71ms (Views: 61.7ms | ActiveRecord: 0.6ms | Allocations: 13134)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeCarbonEmissionDataType (20240310195714)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactivities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_type_id" ON "aactivities" ("type_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_user_id" ON "aactivities" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aactivities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "activities"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" decimal, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3a673f7980"
FOREIGN KEY ("type_id")
  REFERENCES "types" ("id")
, CONSTRAINT "fk_rails_7e11bb717f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_user_id" ON "activities" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_type_id" ON "activities" ("type_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "activities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "aactivities"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeCarbonEmissionDataType (20240310195714)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactivities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_type_id" ON "aactivities" ("type_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_user_id" ON "aactivities" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aactivities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "activities"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "activities"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" decimal, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3a673f7980"
FOREIGN KEY ("type_id")
  REFERENCES "types" ("id")
, CONSTRAINT "fk_rails_7e11bb717f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_user_id" ON "activities" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_type_id" ON "activities" ("type_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "activities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "aactivities"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (5.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "carbon_emission" integer, "type_id" integer NOT NULL, "value" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_type_id" ON "activities" ("type_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_activities_on_user_id" ON "activities" ("user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "activity_types"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "activity_types" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "climatiq_id" varchar, "climatiq_unit_of_measurement" varchar, "category" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "climatiq_unit_type" varchar)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "user_preferences"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "user_preferences" ("user_id" integer NOT NULL, "activity_type_id" integer NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_activity_type_id_and_user_id" ON "user_preferences" ("activity_type_id", "user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_user_id_and_activity_type_id" ON "user_preferences" ("user_id", "activity_type_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactivities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_user_id" ON "aactivities" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_type_id" ON "aactivities" ("type_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aactivities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "activities"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3a673f7980"
FOREIGN KEY ("type_id")
  REFERENCES "types" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_type_id" ON "activities" ("type_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_user_id" ON "activities" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "activities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "aactivities"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "carbon_emission" integer, "type_id" integer NOT NULL, "value" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_activities_on_type_id" ON "activities" ("type_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_activities_on_user_id" ON "activities" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "activity_types"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "activity_types" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "climatiq_id" varchar, "climatiq_unit_of_measurement" varchar, "category" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "climatiq_unit_type" varchar)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "user_preferences"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "user_preferences" ("user_id" integer NOT NULL, "activity_type_id" integer NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_activity_type_id_and_user_id" ON "user_preferences" ("activity_type_id", "user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_user_id_and_activity_type_id" ON "user_preferences" ("user_id", "activity_type_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "49c89e028658aa454e7e0fdbf55388bcdd24a95b"], ["created_at", "2024-03-10 19:59:54.989797"], ["updated_at", "2024-03-10 19:59:54.989797"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "activities"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "carbon_emission" integer, "type_id" integer NOT NULL, "value" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_activities_on_type_id" ON "activities" ("type_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_activities_on_user_id" ON "activities" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "activity_types"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "activity_types" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "climatiq_id" varchar, "climatiq_unit_of_measurement" varchar, "category" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "climatiq_unit_type" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "user_preferences"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "user_preferences" ("user_id" integer NOT NULL, "activity_type_id" integer NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_activity_type_id_and_user_id" ON "user_preferences" ("activity_type_id", "user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_user_id_and_activity_type_id" ON "user_preferences" ("user_id", "activity_type_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240310095732)[0m
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240221023032),
(20240309090905),
(20240309091414),
(20240309092931),
(20240310091448);

[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2024-03-10 19:59:55.011535"], ["updated_at", "2024-03-10 19:59:55.011535"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.9ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2024-03-10 19:59:55.017331"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "49c89e028658aa454e7e0fdbf55388bcdd24a95b"], ["created_at", "2024-03-10 19:59:55.028650"], ["updated_at", "2024-03-10 19:59:55.028650"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Started GET "/user/5" for 127.0.0.1 at 2024-03-11 04:01:05 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
Completed 404 Not Found in 7ms (ActiveRecord: 0.4ms | Allocations: 3823)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=5):
  
app/controllers/user_controller.rb:3:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.8ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Motorcycle"], ["climatiq_id", "passenger_vehicle-vehicle_type_motorcycle-fuel_source_na-engine_size_na-vehicle_age_na-vehicle_weight_na"], ["climatiq_unit_of_measurement", "km"], ["category", "transport"], ["created_at", "2024-03-10 20:02:31.571945"], ["updated_at", "2024-03-10 20:02:31.571945"], ["climatiq_unit_type", "distance"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.3ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Bus"], ["climatiq_id", "passenger_vehicle-vehicle_type_bus-fuel_source_na-distance_na-engine_size_na"], ["climatiq_unit_of_measurement", "usd"], ["category", "transport"], ["created_at", "2024-03-10 20:02:31.576545"], ["updated_at", "2024-03-10 20:02:31.576545"], ["climatiq_unit_type", "money"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.2ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Car"], ["climatiq_id", "passenger_vehicle-vehicle_type_car-fuel_source_na-engine_size_na-vehicle_age_na-vehicle_weight_na"], ["climatiq_unit_of_measurement", "km"], ["category", "transport"], ["created_at", "2024-03-10 20:02:31.578671"], ["updated_at", "2024-03-10 20:02:31.578671"], ["climatiq_unit_type", "distance"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.2ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Fresh Fruit"], ["climatiq_id", "consumer_goods-type_fruit_fresh"], ["climatiq_unit_of_measurement", "t"], ["category", "food"], ["created_at", "2024-03-10 20:02:31.580518"], ["updated_at", "2024-03-10 20:02:31.580518"], ["climatiq_unit_type", "weight"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.2ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Beef"], ["climatiq_id", "consumer_goods-type_meat_products_beef"], ["climatiq_unit_of_measurement", "usd"], ["category", "food"], ["created_at", "2024-03-10 20:02:31.582584"], ["updated_at", "2024-03-10 20:02:31.582584"], ["climatiq_unit_type", "money"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.2ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Dairy Products"], ["climatiq_id", "consumer_goods-type_dairy_products"], ["climatiq_unit_of_measurement", "usd"], ["category", "food"], ["created_at", "2024-03-10 20:02:31.584757"], ["updated_at", "2024-03-10 20:02:31.584757"], ["climatiq_unit_type", "money"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Create (0.2ms)[0m  [1m[32mINSERT INTO "activity_types" ("name", "climatiq_id", "climatiq_unit_of_measurement", "category", "created_at", "updated_at", "climatiq_unit_type") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Electricity"], ["climatiq_id", "electricity-supply_grid-source_supplier_mix"], ["climatiq_unit_of_measurement", "kWh"], ["category", "energy"], ["created_at", "2024-03-10 20:02:31.586570"], ["updated_at", "2024-03-10 20:02:31.586570"], ["climatiq_unit_type", "energy"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2024-03-11 04:02:35 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 401 Unauthorized in 11ms (ActiveRecord: 0.4ms | Allocations: 5680)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 04:02:35 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 653)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3457)
  Rendered layout layouts/application.html.erb (Duration: 99.5ms | Allocations: 65331)
Completed 200 OK in 110ms (Views: 104.4ms | ActiveRecord: 0.0ms | Allocations: 72263)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-11 04:02:38 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.6ms | Allocations: 215)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 138)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2460)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 9569)
Completed 200 OK in 31ms (Views: 28.6ms | ActiveRecord: 0.0ms | Allocations: 10733)


Started POST "/users" for 127.0.0.1 at 2024-03-11 04:02:46 +0800
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"lancau", "email"=>"lancau@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "lancau@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "lancau"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "lancau@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2024-03-10 20:02:46.485787"], ["updated_at", "2024-03-10 20:02:46.485787"], ["username", "lancau"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 463ms (ActiveRecord: 2.9ms | Allocations: 10226)


Started GET "/" for 127.0.0.1 at 2024-03-11 04:02:46 +0800
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 0.9ms | Allocations: 9281)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 04:02:46 +0800
Processing by PreferencesController#new as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 3482)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 10584)
Completed 200 OK in 14ms (Views: 8.4ms | ActiveRecord: 0.3ms | Allocations: 16444)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-11 04:02:49 +0800
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1572)


Started GET "/" for 127.0.0.1 at 2024-03-11 04:02:49 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 1947)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 04:02:49 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2923)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 10011)
Completed 200 OK in 19ms (Views: 8.5ms | ActiveRecord: 0.3ms | Allocations: 12356)


Started GET "/" for 127.0.0.1 at 2024-03-11 04:02:51 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/preferences
Filter chain halted as :redirect_to_welcome_if_preferences_blank rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1938)


Started GET "/preferences" for 127.0.0.1 at 2024-03-11 04:02:52 +0800
Processing by PreferencesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering preferences/new.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "transport"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "energy"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."category" = ?[0m  [["category", "food"]]
  ↳ app/views/preferences/new.html.erb:9:in `each_with_index'
  Rendered preferences/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2923)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 9863)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 0.4ms | Allocations: 12200)


Started POST "/preferences" for 127.0.0.1 at 2024-03-11 04:02:55 +0800
Processing by PreferencesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"preference_ids"=>["1", "7", "4"]}, "commit"=>"Save Preferences"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" IN (?, ?, ?)[0m  [["id", 1], ["id", 7], ["id", 4]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.9ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 1], ["activity_type_id", 1]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.1ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 1], ["activity_type_id", 7]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser::HABTM_Preferences Create (0.1ms)[0m  [1m[32mINSERT INTO "user_preferences" ("user_id", "activity_type_id") VALUES (?, ?)[0m  [["user_id", 1], ["activity_type_id", 4]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "lancau"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/preferences_controller.rb:11:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/preferences_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 32ms (ActiveRecord: 3.2ms | Allocations: 10904)


Started GET "/" for 127.0.0.1 at 2024-03-11 04:02:55 +0800
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 91)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 7291)
Completed 200 OK in 13ms (Views: 8.0ms | ActiveRecord: 0.2ms | Allocations: 10691)


Started GET "/users/sign_up" for 127.0.0.1 at 2024-03-11 04:02:59 +0800
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.1ms | Allocations: 1518)


Started GET "/" for 127.0.0.1 at 2024-03-11 04:02:59 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 6905)
Completed 200 OK in 23ms (Views: 13.7ms | ActiveRecord: 0.3ms | Allocations: 9012)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:03:01 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 352.2ms | Allocations: 5085)
  Rendered layout layouts/application.html.erb (Duration: 383.8ms | Allocations: 11903)
Completed 200 OK in 398ms (Views: 384.9ms | ActiveRecord: 1.6ms | Allocations: 19055)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 04:03:08 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"1", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:14:in `create'
Redirected to http://127.0.0.1:3000/user/1
Completed 302 Found in 77ms (ActiveRecord: 1.0ms | Allocations: 8242)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:03:08 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 68.2ms | Allocations: 2949)
  Rendered layout layouts/application.html.erb (Duration: 75.1ms | Allocations: 9714)
Completed 200 OK in 79ms (Views: 75.5ms | ActiveRecord: 0.3ms | Allocations: 12965)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:03:37 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 106.5ms | Allocations: 4016)
  Rendered layout layouts/application.html.erb (Duration: 125.1ms | Allocations: 27629)
Completed 200 OK in 145ms (Views: 125.7ms | ActiveRecord: 1.9ms | Allocations: 44097)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 04:03:41 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"1", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
Redirected to http://127.0.0.1:3000/user/1
Completed 302 Found in 233ms (ActiveRecord: 1.0ms | Allocations: 9520)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:03:41 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 62.1ms | Allocations: 2966)
  Rendered layout layouts/application.html.erb (Duration: 69.1ms | Allocations: 9914)
Completed 200 OK in 73ms (Views: 69.5ms | ActiveRecord: 0.3ms | Allocations: 13135)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:04:17 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 70.7ms | Allocations: 4018)
  Rendered layout layouts/application.html.erb (Duration: 88.1ms | Allocations: 27631)
Completed 200 OK in 105ms (Views: 88.7ms | ActiveRecord: 2.0ms | Allocations: 44037)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 04:04:18 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"1", "value"=>"11"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:16:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:16:in `create'
Redirected to http://127.0.0.1:3000/user/1
Completed 302 Found in 431ms (ActiveRecord: 0.7ms | Allocations: 9521)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:04:19 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 150.4ms | Allocations: 2958)
  Rendered layout layouts/application.html.erb (Duration: 166.3ms | Allocations: 9906)
Completed 200 OK in 173ms (Views: 167.0ms | ActiveRecord: 0.4ms | Allocations: 13127)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActivityType Load (2.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:07:35 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 152.2ms | Allocations: 4016)
  Rendered layout layouts/application.html.erb (Duration: 176.5ms | Allocations: 27732)
Completed 200 OK in 194ms (Views: 177.2ms | ActiveRecord: 2.1ms | Allocations: 44153)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 04:07:37 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"1", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
Redirected to http://127.0.0.1:3000/user/1
Completed 302 Found in 224ms (ActiveRecord: 0.7ms | Allocations: 9510)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:07:38 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 145.1ms | Allocations: 2971)
  Rendered layout layouts/application.html.erb (Duration: 168.5ms | Allocations: 9800)
Completed 200 OK in 177ms (Views: 169.0ms | ActiveRecord: 0.5ms | Allocations: 13065)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddForeignKeyToActivities (20240310200847)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactivities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_user_id" ON "aactivities" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_type_id" ON "aactivities" ("type_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aactivities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "activities"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3a673f7980"
FOREIGN KEY ("type_id")
  REFERENCES "activity_types" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_type_id" ON "activities" ("type_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_user_id" ON "activities" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "activities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "aactivities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactivities"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240310200847"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddForeignKeyToActivities (20240310200847)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactivities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_user_id" ON "aactivities" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_type_id" ON "aactivities" ("type_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aactivities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "activities"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_type_id" ON "activities" ("type_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_user_id" ON "activities" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "activities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "aactivities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactivities"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20240310200847"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddForeignKeyToActivities (20240310200847)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactivities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_user_id" ON "aactivities" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_type_id" ON "aactivities" ("type_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactivities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "activities"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3a673f7980"
FOREIGN KEY ("type_id")
  REFERENCES "activity_types" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_type_id" ON "activities" ("type_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_user_id" ON "activities" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "activities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "aactivities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactivities"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactivities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_user_id" ON "aactivities" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aactivities_on_type_id" ON "aactivities" ("type_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aactivities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "activities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "activities" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "carbon_emission" integer DEFAULT NULL, "type_id" integer NOT NULL, "value" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3a673f7980"
FOREIGN KEY ("type_id")
  REFERENCES "activity_types" ("id")
, CONSTRAINT "fk_rails_7e11bb717f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_activities_on_type_id" ON "activities" ("type_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_activities_on_user_id" ON "activities" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "activities" ("id","user_id","carbon_emission","type_id","value","created_at","updated_at")
                     SELECT "id","user_id","carbon_emission","type_id","value","created_at","updated_at" FROM "aactivities"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactivities"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240310200847"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:11:32 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 239.6ms | Allocations: 4017)
  Rendered layout layouts/application.html.erb (Duration: 274.3ms | Allocations: 27633)
Completed 200 OK in 295ms (Views: 275.1ms | ActiveRecord: 1.6ms | Allocations: 43947)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 04:11:34 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"1", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
Redirected to http://127.0.0.1:3000/user/1
Completed 302 Found in 214ms (ActiveRecord: 1.0ms | Allocations: 9481)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:11:34 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 62.5ms | Allocations: 2977)
  Rendered layout layouts/application.html.erb (Duration: 75.5ms | Allocations: 9924)
Completed 200 OK in 84ms (Views: 76.2ms | ActiveRecord: 0.7ms | Allocations: 13157)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActivity Load (1.7ms)[0m  [1m[34mSELECT "activities".* FROM "activities" ORDER BY "activities"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" ORDER BY "activity_types"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActivityType Load (1.9ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActivity Create (1.7ms)[0m  [1m[32mINSERT INTO "activities" ("user_id", "carbon_emission", "type_id", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["carbon_emission", 10], ["type_id", 1], ["value", 10], ["created_at", "2024-03-10 20:18:39.659329"], ["updated_at", "2024-03-10 20:18:39.659329"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:18:49 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 332.6ms | Allocations: 33521)
  Rendered layout layouts/application.html.erb (Duration: 373.1ms | Allocations: 58113)
Completed 200 OK in 411ms (Views: 374.9ms | ActiveRecord: 1.6ms | Allocations: 87613)


Started POST "/activities" for 127.0.0.1 at 2024-03-11 04:18:52 +0800
Processing by ActivitiesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "activity"=>{"activity_type_id"=>"1", "value"=>"100"}, "commit"=>"Create Activity"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mCACHE ActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mActivity Create (2.9ms)[0m  [1m[32mINSERT INTO "activities" ("user_id", "carbon_emission", "type_id", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["carbon_emission", 11], ["type_id", 1], ["value", 100], ["created_at", "2024-03-10 20:18:52.747502"], ["updated_at", "2024-03-10 20:18:52.747502"]]
  ↳ app/controllers/activities_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/activities_controller.rb:15:in `create'
Redirected to http://127.0.0.1:3000/user/1
Completed 302 Found in 257ms (ActiveRecord: 5.5ms | Allocations: 12725)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:18:52 +0800
Processing by UserController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/services/climatiq_estimation_service.rb:7:in `calculate_carbon_emission'
  Rendered user/show.html.erb within layouts/application (Duration: 280.7ms | Allocations: 2992)
  Rendered layout layouts/application.html.erb (Duration: 295.1ms | Allocations: 9951)
Completed 200 OK in 312ms (Views: 295.5ms | ActiveRecord: 0.4ms | Allocations: 13254)


  [1m[36mActivity Load (0.7ms)[0m  [1m[34mSELECT "activities".* FROM "activities"[0m
Started GET "/" for 127.0.0.1 at 2024-03-11 04:20:54 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 92)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 7384)
Completed 200 OK in 20ms (Views: 13.6ms | ActiveRecord: 0.2ms | Allocations: 10265)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:21:01 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1899)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 8699)
Completed 200 OK in 25ms (Views: 14.5ms | ActiveRecord: 0.9ms | Allocations: 12272)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:21:59 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 11.9ms | Allocations: 12017)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 12107)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.5ms | Allocations: 15955)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center">
  <div>
    <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
  </div>
  <%= @user.username %>
</div>

<%= form_with model: @activity, url: activities_path, class="items-center" do |form| %>
  <div class="field">
    <%= form.label :type_id %>
    <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
  </div>

  <div class="field">
    <%= form.label :value, "Value", id: 'activity_value_label' %>
    <%= form.number_field :value, id: 'activity_value' %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>
):
1:    <div class="flex flex-col items-center">
2:      <div>
3:        <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
4:      </div>
5:      <%= @user.username %>
6:    </div>
7:    
8:    <%= form_with model: @activity, url: activities_path, class="items-center" do |form| %>
9:      <div class="field">
10:        <%= form.label :type_id %>
11:        <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
12:      </div>
13:    
14:      <div class="field">
15:        <%= form.label :value, "Value", id: 'activity_value_label' %>
16:        <%= form.number_field :value, id: 'activity_value' %>
17:      </div>
18:    
19:      <div class="actions">
20:        <%= form.submit %>
21:      </div>
22:    <% end %>
  
app/views/user/show.html.erb:8: syntax error, unexpected '='
app/views/user/show.html.erb:24: syntax error, unexpected `end'
app/views/user/show.html.erb:8: syntax error, unexpected '='
app/views/user/show.html.erb:24: syntax error, unexpected `end'
app/views/user/show.html.erb:8: syntax error, unexpected '='
app/views/user/show.html.erb:24: syntax error, unexpected `end'
app/views/user/show.html.erb:8: syntax error, unexpected '='
app/views/user/show.html.erb:24: syntax error, unexpected `end'
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:22:40 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1922)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 9138)
Completed 200 OK in 31ms (Views: 17.1ms | ActiveRecord: 1.1ms | Allocations: 12963)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:23:11 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1927)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 9142)
Completed 200 OK in 50ms (Views: 18.7ms | ActiveRecord: 1.4ms | Allocations: 12968)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:23:29 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1910)
  Rendered layout layouts/application.html.erb (Duration: 36.1ms | Allocations: 8953)
Completed 200 OK in 66ms (Views: 39.2ms | ActiveRecord: 0.8ms | Allocations: 12810)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:24:44 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1918)
  Rendered layout layouts/application.html.erb (Duration: 78.2ms | Allocations: 16632)
Completed 200 OK in 101ms (Views: 80.4ms | ActiveRecord: 0.9ms | Allocations: 20471)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:25:13 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 20.7ms | Allocations: 1909)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | Allocations: 9131)
Completed 200 OK in 42ms (Views: 31.9ms | ActiveRecord: 0.7ms | Allocations: 12965)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:25:26 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1915)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 9093)
Completed 200 OK in 50ms (Views: 24.4ms | ActiveRecord: 7.6ms | Allocations: 12933)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:25:39 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1908)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 8923)
Completed 200 OK in 42ms (Views: 20.6ms | ActiveRecord: 3.7ms | Allocations: 12725)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:26:01 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1925)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 12022)
Completed 200 OK in 56ms (Views: 20.4ms | ActiveRecord: 1.1ms | Allocations: 15857)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:26:24 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1917)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 8956)
Completed 200 OK in 23ms (Views: 13.4ms | ActiveRecord: 0.5ms | Allocations: 12790)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:26:50 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1926)
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | Allocations: 11966)
Completed 200 OK in 61ms (Views: 24.1ms | ActiveRecord: 0.9ms | Allocations: 15819)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:26:54 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1917)
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 11741)
Completed 200 OK in 34ms (Views: 23.2ms | ActiveRecord: 0.9ms | Allocations: 15568)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:26:59 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1926)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 11968)
Completed 200 OK in 30ms (Views: 22.6ms | ActiveRecord: 0.6ms | Allocations: 15782)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:27:45 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1258)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 1347)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.9ms | Allocations: 5148)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center mb-4">
  <div>
    <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
  </div>
  <%= @user.username %>
</div>

<%= form_with model: @activity, url: activities_path, class: "flex flex-col gap-5" do |form| %>
  <div class="field flex flex-col">
    <%= form.label :type_id %>
    <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
  </div>

  <div class="field flex flex-col">
    <%= form.label :value, "Value", id: 'activity_value_label' %>
    <%= form.number_field :value, id: 'activity_value' %>
  </div>

  <div class="actions">
    <%= form.submit, class:"hello" %>
  </div>
<% end %>
):
1:    <div class="flex flex-col items-center mb-4">
2:      <div>
3:        <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
4:      </div>
5:      <%= @user.username %>
6:    </div>
7:    
8:    <%= form_with model: @activity, url: activities_path, class: "flex flex-col gap-5" do |form| %>
9:      <div class="field flex flex-col">
10:        <%= form.label :type_id %>
11:        <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
12:      </div>
13:    
14:      <div class="field flex flex-col">
15:        <%= form.label :value, "Value", id: 'activity_value_label' %>
16:        <%= form.number_field :value, id: 'activity_value' %>
17:      </div>
18:    
19:      <div class="actions">
20:        <%= form.submit, class:"hello" %>
21:      </div>
22:    <% end %>
  
app/views/user/show.html.erb:20: syntax error, unexpected label, expecting '='
app/views/user/show.html.erb:20: syntax error, unexpected label, expecting '='
app/views/user/show.html.erb:20: syntax error, unexpected label, expecting '='
app/views/user/show.html.erb:20: syntax error, unexpected label, expecting '='
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:27:51 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1927)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 9183)
Completed 200 OK in 47ms (Views: 15.6ms | ActiveRecord: 1.1ms | Allocations: 13003)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:28:44 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1837)
  Rendered layout layouts/application.html.erb (Duration: 45.0ms | Allocations: 8852)
Completed 200 OK in 72ms (Views: 47.8ms | ActiveRecord: 2.2ms | Allocations: 12682)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:29:40 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1846)
  Rendered layout layouts/application.html.erb (Duration: 27.6ms | Allocations: 11741)
Completed 200 OK in 54ms (Views: 29.5ms | ActiveRecord: 0.9ms | Allocations: 15555)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:29:59 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1837)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 8852)
Completed 200 OK in 22ms (Views: 12.4ms | ActiveRecord: 0.5ms | Allocations: 12661)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:30:47 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1854)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 11922)
Completed 200 OK in 35ms (Views: 26.9ms | ActiveRecord: 0.6ms | Allocations: 15757)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:32:50 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1837)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 11724)
Completed 200 OK in 52ms (Views: 29.8ms | ActiveRecord: 1.4ms | Allocations: 15542)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:33:11 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1846)
  Rendered layout layouts/application.html.erb (Duration: 40.9ms | Allocations: 11745)
Completed 200 OK in 55ms (Views: 43.3ms | ActiveRecord: 0.9ms | Allocations: 15559)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:33:16 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1837)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 11865)
Completed 200 OK in 26ms (Views: 20.2ms | ActiveRecord: 0.6ms | Allocations: 15668)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:33:22 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1845)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 8894)
Completed 200 OK in 28ms (Views: 16.3ms | ActiveRecord: 0.8ms | Allocations: 12723)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:33:59 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1836)
  Rendered layout layouts/application.html.erb (Duration: 31.2ms | Allocations: 11903)
Completed 200 OK in 56ms (Views: 33.4ms | ActiveRecord: 1.4ms | Allocations: 15737)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:34:04 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1845)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 8886)
Completed 200 OK in 29ms (Views: 13.9ms | ActiveRecord: 1.6ms | Allocations: 12718)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:34:47 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 30.7ms | Allocations: 1836)
  Rendered layout layouts/application.html.erb (Duration: 49.3ms | Allocations: 11929)
Completed 200 OK in 64ms (Views: 51.7ms | ActiveRecord: 0.8ms | Allocations: 15733)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:34:59 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1841)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 8882)
Completed 200 OK in 35ms (Views: 19.3ms | ActiveRecord: 0.9ms | Allocations: 12711)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:35:10 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1846)
  Rendered layout layouts/application.html.erb (Duration: 21.7ms | Allocations: 11872)
Completed 200 OK in 56ms (Views: 23.4ms | ActiveRecord: 0.7ms | Allocations: 15692)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:35:28 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1838)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 8927)
Completed 200 OK in 25ms (Views: 15.1ms | ActiveRecord: 0.6ms | Allocations: 12749)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:35:56 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1845)
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 11926)
Completed 200 OK in 58ms (Views: 24.8ms | ActiveRecord: 0.8ms | Allocations: 15755)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:36:15 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1259)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 1348)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.1ms | Allocations: 5150)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center mb-4">
  <div>
    <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
  </div>
  <%= @user.username, class: "text-bold" %>
</div>

<%= form_with model: @activity, url: activities_path, class: "flex flex-col gap-5" do |form| %>
  <div class="field flex flex-col">
    <%= form.label :type_id %>
    <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
  </div>

  <div class="field flex flex-col">
    <%= form.label :value, "Value", id: 'activity_value_label' %>
    <%= form.number_field :value, id: 'activity_value' %>
  </div>

  <div class="actions flex justify-center">
    <%= form.submit "Log Activity", class: "bg-blue-500 py-2 px-5 text-white font-bold"%>
  </div>
<% end %>
):
1:    <div class="flex flex-col items-center mb-4">
2:      <div>
3:        <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
4:      </div>
5:      <%= @user.username, class: "text-bold" %>
6:    </div>
7:    
8:    <%= form_with model: @activity, url: activities_path, class: "flex flex-col gap-5" do |form| %>
9:      <div class="field flex flex-col">
10:        <%= form.label :type_id %>
11:        <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
12:      </div>
13:    
14:      <div class="field flex flex-col">
15:        <%= form.label :value, "Value", id: 'activity_value_label' %>
16:        <%= form.number_field :value, id: 'activity_value' %>
17:      </div>
18:    
19:      <div class="actions flex justify-center">
20:        <%= form.submit "Log Activity", class: "bg-blue-500 py-2 px-5 text-white font-bold"%>
21:      </div>
22:    <% end %>
  
app/views/user/show.html.erb:5: syntax error, unexpected label, expecting '='
app/views/user/show.html.erb:5: syntax error, unexpected label, expecting '='
app/views/user/show.html.erb:5: syntax error, unexpected label, expecting '='
app/views/user/show.html.erb:5: syntax error, unexpected label, expecting '='
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:36:54 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1258)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 1347)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.0ms | Allocations: 5147)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center mb-4">
  <div>
    <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
  </div>
<%= @user.username, class: "text-bold" %>
</div>

<%= form_with model: @activity, url: activities_path, class: "flex flex-col gap-5" do |form| %>
  <div class="field flex flex-col">
    <%= form.label :type_id %>
    <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
  </div>

  <div class="field flex flex-col">
    <%= form.label :value, "Value", id: 'activity_value_label' %>
    <%= form.number_field :value, id: 'activity_value' %>
  </div>

  <div class="actions flex justify-center">
    <%= form.submit "Log Activity", class: "bg-blue-500 py-2 px-5 text-white font-bold"%>
  </div>
<% end %>
):
1:    <div class="flex flex-col items-center mb-4">
2:      <div>
3:        <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
4:      </div>
5:    <%= @user.username, class: "text-bold" %>
6:    </div>
7:    
8:    <%= form_with model: @activity, url: activities_path, class: "flex flex-col gap-5" do |form| %>
9:      <div class="field flex flex-col">
10:        <%= form.label :type_id %>
11:        <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
12:      </div>
13:    
14:      <div class="field flex flex-col">
15:        <%= form.label :value, "Value", id: 'activity_value_label' %>
16:        <%= form.number_field :value, id: 'activity_value' %>
17:      </div>
18:    
19:      <div class="actions flex justify-center">
20:        <%= form.submit "Log Activity", class: "bg-blue-500 py-2 px-5 text-white font-bold"%>
21:      </div>
22:    <% end %>
  
app/views/user/show.html.erb:5: syntax error, unexpected label, expecting '='
app/views/user/show.html.erb:5: syntax error, unexpected label, expecting '='
app/views/user/show.html.erb:5: syntax error, unexpected label, expecting '='
app/views/user/show.html.erb:5: syntax error, unexpected label, expecting '='
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:37:23 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1855)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 9069)
Completed 200 OK in 38ms (Views: 25.3ms | ActiveRecord: 0.7ms | Allocations: 12885)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:37:30 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 25.3ms | Allocations: 1833)
  Rendered layout layouts/application.html.erb (Duration: 33.7ms | Allocations: 9053)
Completed 200 OK in 54ms (Views: 41.5ms | ActiveRecord: 0.7ms | Allocations: 12899)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:37:31 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1499)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 8427)
Completed 200 OK in 22ms (Views: 13.1ms | ActiveRecord: 0.7ms | Allocations: 11656)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:37:32 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1494)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 8247)
Completed 200 OK in 21ms (Views: 13.3ms | ActiveRecord: 0.6ms | Allocations: 11490)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:37:49 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1835)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 8850)
Completed 200 OK in 33ms (Views: 15.5ms | ActiveRecord: 0.8ms | Allocations: 12650)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:38:13 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 22.9ms | Allocations: 1834)
  Rendered layout layouts/application.html.erb (Duration: 41.4ms | Allocations: 11901)
Completed 200 OK in 57ms (Views: 43.6ms | ActiveRecord: 0.9ms | Allocations: 15726)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:38:18 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 8.4ms | Allocations: 1839)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 9026)
Completed 200 OK in 34ms (Views: 23.1ms | ActiveRecord: 0.2ms | Allocations: 12875)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:38:26 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 9.0ms | Allocations: 1834)
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | Allocations: 8849)
Completed 200 OK in 69ms (Views: 33.2ms | ActiveRecord: 2.9ms | Allocations: 12647)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:38:28 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1492)
  Rendered layout layouts/application.html.erb (Duration: 28.9ms | Allocations: 11098)
Completed 200 OK in 39ms (Views: 29.3ms | ActiveRecord: 0.8ms | Allocations: 14345)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:38:29 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1496)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 8432)
Completed 200 OK in 18ms (Views: 9.8ms | ActiveRecord: 0.6ms | Allocations: 11693)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:40:11 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1905)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 25692)
Completed 200 OK in 47ms (Views: 27.3ms | ActiveRecord: 3.3ms | Allocations: 43067)


  [1m[36mActivity Load (0.8ms)[0m  [1m[34mSELECT "activities".* FROM "activities" ORDER BY "activities"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:42:36 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1378)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1467)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.4ms | Allocations: 5340)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center mb-4 gap-2">
  <div>
    <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
  </div>
<span class="font-bold uppercase"><%= @user.username %></span>
</div>

<%= form_with model: @activity, url: activities_path, class: "flex flex-col gap-5" do |form| %>
  <div class="field flex flex-col">
    <%= form.label :type_id %>
    <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
  </div>

  <div class="field flex flex-col">
    <%= form.label :value, "Value", id: 'activity_value_label' %>
    <%= form.number_field :value, id: 'activity_value' %>
  </div>

  <div class="actions flex justify-center">
    <%= form.submit "Log Activity", class: "bg-blue-500 py-2 px-5 text-white font-bold"%>
  </div>
<% end %>

<% if @activities.any? %>
  <div class="flex flex-col gap-2">
    <h2 class="font-bold text-xl">Activity Log</h2>
    <table class="w-full">
      <thead>
        <tr>
          <th class="text-left">Type</th>
          <th class="text-left">Value</th>
          <th class="text-left">Date</th>
        </tr>
      </thead>
      <tbody>
        <% @activities.each do |activity| %>
          <tr>
            <td><%= activity.activity_type.name %></td>
            <td><%= activity.value %></td>
            <td><%= activity.created_at.strftime("%d %b %Y") %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

):
1:    <div class="flex flex-col items-center mb-4 gap-2">
2:      <div>
3:        <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
4:      </div>
5:    <span class="font-bold uppercase"><%= @user.username %></span>
6:    </div>
7:    
8:    <%= form_with model: @activity, url: activities_path, class: "flex flex-col gap-5" do |form| %>
9:      <div class="field flex flex-col">
10:        <%= form.label :type_id %>
11:        <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
12:      </div>
13:    
14:      <div class="field flex flex-col">
15:        <%= form.label :value, "Value", id: 'activity_value_label' %>
16:        <%= form.number_field :value, id: 'activity_value' %>
17:      </div>
18:    
19:      <div class="actions flex justify-center">
20:        <%= form.submit "Log Activity", class: "bg-blue-500 py-2 px-5 text-white font-bold"%>
21:      </div>
22:    <% end %>
23:    
24:    <% if @activities.any? %>
25:      <div class="flex flex-col gap-2">
26:        <h2 class="font-bold text-xl">Activity Log</h2>
27:        <table class="w-full">
28:          <thead>
29:            <tr>
30:              <th class="text-left">Type</th>
31:              <th class="text-left">Value</th>
32:              <th class="text-left">Date</th>
33:            </tr>
34:          </thead>
35:          <tbody>
36:            <% @activities.each do |activity| %>
37:              <tr>
38:                <td><%= activity.activity_type.name %></td>
39:                <td><%= activity.value %></td>
40:                <td><%= activity.created_at.strftime("%d %b %Y") %></td>
41:              </tr>
42:            <% end %>
43:          </tbody>
44:        </table>
45:      </div>
  
app/views/user/show.html.erb:48: syntax error, unexpected end-of-input, expecting `end' or dummy end
app/views/user/show.html.erb:48: syntax error, unexpected end-of-input, expecting `end' or dummy end
app/views/user/show.html.erb:48: syntax error, unexpected end-of-input, expecting `end' or dummy end
app/views/user/show.html.erb:48: syntax error, unexpected end-of-input, expecting `end' or dummy end
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:43:15 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.9ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:36
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:38
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:38
  Rendered user/show.html.erb within layouts/application (Duration: 17.7ms | Allocations: 6095)
  Rendered layout layouts/application.html.erb (Duration: 50.3ms | Allocations: 16157)
Completed 200 OK in 63ms (Views: 50.6ms | ActiveRecord: 2.4ms | Allocations: 20039)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:45:42 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:39
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  Rendered user/show.html.erb within layouts/application (Duration: 14.8ms | Allocations: 4563)
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 11784)
Completed 200 OK in 45ms (Views: 26.6ms | ActiveRecord: 1.0ms | Allocations: 15692)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:45:54 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:39
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  Rendered user/show.html.erb within layouts/application (Duration: 22.6ms | Allocations: 4564)
  Rendered layout layouts/application.html.erb (Duration: 54.5ms | Allocations: 11704)
Completed 200 OK in 75ms (Views: 56.8ms | ActiveRecord: 1.1ms | Allocations: 15619)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:45:59 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:39
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  Rendered user/show.html.erb within layouts/application (Duration: 7.5ms | Allocations: 4563)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 11645)
Completed 200 OK in 41ms (Views: 15.8ms | ActiveRecord: 0.8ms | Allocations: 15551)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:46:06 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:39
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  Rendered user/show.html.erb within layouts/application (Duration: 7.9ms | Allocations: 4560)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 11646)
Completed 200 OK in 48ms (Views: 18.2ms | ActiveRecord: 0.9ms | Allocations: 15537)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:46:30 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.0ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:39
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  Rendered user/show.html.erb within layouts/application (Duration: 20.3ms | Allocations: 4555)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | Allocations: 11570)
Completed 200 OK in 40ms (Views: 30.8ms | ActiveRecord: 0.6ms | Allocations: 15465)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:46:31 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:39
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  Rendered user/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 4046)
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 10814)
Completed 200 OK in 31ms (Views: 21.8ms | ActiveRecord: 1.1ms | Allocations: 14154)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:47:49 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:39
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  Rendered user/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 4578)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 11706)
Completed 200 OK in 32ms (Views: 20.3ms | ActiveRecord: 0.6ms | Allocations: 15620)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:49:02 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:38
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:41
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:41
  Rendered user/show.html.erb within layouts/application (Duration: 9.1ms | Allocations: 4576)
  Rendered layout layouts/application.html.erb (Duration: 32.0ms | Allocations: 14421)
Completed 200 OK in 47ms (Views: 33.7ms | ActiveRecord: 1.1ms | Allocations: 18327)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:49:58 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:38
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:41
  Rendered user/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 4875)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 4963)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 1.5ms | Allocations: 8831)


  
ActionView::Template::Error (String can't be coerced into Integer):
    40:             <td class="border border-gray-400 px-4 py-2"><%= activity.created_at.strftime("%d/%m/%y") %></td>
    41:             <td class="border border-gray-400 px-4 py-2 capitalize"><%= activity.activity_type.category %></td>
    42:             <td class="border border-gray-400 px-4 py-2"><%= "#{activity.activity_type.name}" %></td>
    43:             <td class="border border-gray-400 px-4 py-2"><%= activity.value + " " + activity.activity_type.climatiq_unit_of_measurement %></td>
    44:             <td class="border border-gray-400 px-4 py-2"><%= activity.carbon_emission %></td>
    45:           </tr>
    46:         <% end %>
  
app/views/user/show.html.erb:43:in `+'
app/views/user/show.html.erb:43
app/views/user/show.html.erb:38
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:50:09 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:38
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:41
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:41
  Rendered user/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 4572)
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | Allocations: 11828)
Completed 200 OK in 43ms (Views: 32.4ms | ActiveRecord: 1.0ms | Allocations: 15710)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:50:17 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:38
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:41
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:41
  Rendered user/show.html.erb within layouts/application (Duration: 10.8ms | Allocations: 4562)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 11577)
Completed 200 OK in 39ms (Views: 21.4ms | ActiveRecord: 1.1ms | Allocations: 15483)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:50:24 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:24
  [1m[36mActivity Load (0.0ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:38
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:41
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:41
  Rendered user/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 4567)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | Allocations: 11635)
Completed 200 OK in 45ms (Views: 34.0ms | ActiveRecord: 0.9ms | Allocations: 15526)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:52:33 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1161)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 8251)
Completed 200 OK in 31ms (Views: 17.9ms | ActiveRecord: 0.7ms | Allocations: 12127)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:52:47 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1452)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 1541)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.7ms | Allocations: 5424)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center mb-4 gap-2">
  <div>
    <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
  </div>
<span class="font-bold uppercase"><%= @user.username %></span>
</div>

<%= if current_user.id == params[:id] %>

  <%= form_with model: @activity, url: activities_path, class: "flex flex-col gap-5" do |form| %>
    <div class="field flex flex-col">
      <%= form.label :type_id %>
      <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
    </div>

    <div class="field flex flex-col">
      <%= form.label :value, "Value", id: 'activity_value_label' %>
      <%= form.number_field :value, id: 'activity_value' %>
    </div>

    <div class="actions flex justify-center">
      <%= form.submit "Log Activity", class: "bg-blue-500 py-2 px-5 text-white font-bold"%>
    </div>
  <% end %>

  <% if @activities.any? %>
    <div class="flex flex-col gap-2">
      <h2 class="font-bold text-xl">Activity Log</h2>
      <table class="w-full border-collapse border">
        <thead>
          <tr>
            <th class="text-left border border-gray-400 px-4 py-2">Date</th>
            <th class="text-left border border-gray-400 px-4 py-2">Category</th>
            <th class="text-left border border-gray-400 px-4 py-2">Type</th>
            <th class="text-left border border-gray-400 px-4 py-2">Value</th>
            <th class="text-left border border-gray-400 px-4 py-2">Carbon Emission</th>
          </tr>
        </thead>
        <tbody>
          <% @activities.each do |activity| %>
            <tr>
              <td class="border border-gray-400 px-4 py-2"><%= activity.created_at.strftime("%d/%m/%y") %></td>
              <td class="border border-gray-400 px-4 py-2 capitalize"><%= activity.activity_type.category %></td>
              <td class="border border-gray-400 px-4 py-2"><%= "#{activity.activity_type.name}" %></td>
              <td class="border border-gray-400 px-4 py-2"><%= activity.value.to_s + " " + activity.activity_type.climatiq_unit_of_measurement %></td>
              <td class="border border-gray-400 px-4 py-2"><%= activity.carbon_emission %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% end %>

<% end %>
):
1:    <div class="flex flex-col items-center mb-4 gap-2">
2:      <div>
3:        <%= image_tag "help-logo.png", alt: "Help University logo", class: "rounded-full max-w-32" %>
4:      </div>
5:    <span class="font-bold uppercase"><%= @user.username %></span>
6:    </div>
7:    
8:    <%= if current_user.id == params[:id] %>
9:    
10:      <%= form_with model: @activity, url: activities_path, class: "flex flex-col gap-5" do |form| %>
11:        <div class="field flex flex-col">
12:          <%= form.label :type_id %>
13:          <%= select_tag "activity[activity_type_id]", options_for_select(@activity_types) %>
14:        </div>
15:    
16:        <div class="field flex flex-col">
17:          <%= form.label :value, "Value", id: 'activity_value_label' %>
18:          <%= form.number_field :value, id: 'activity_value' %>
19:        </div>
20:    
21:        <div class="actions flex justify-center">
22:          <%= form.submit "Log Activity", class: "bg-blue-500 py-2 px-5 text-white font-bold"%>
23:        </div>
24:      <% end %>
25:    
26:      <% if @activities.any? %>
27:        <div class="flex flex-col gap-2">
28:          <h2 class="font-bold text-xl">Activity Log</h2>
29:          <table class="w-full border-collapse border">
30:            <thead>
31:              <tr>
32:                <th class="text-left border border-gray-400 px-4 py-2">Date</th>
33:                <th class="text-left border border-gray-400 px-4 py-2">Category</th>
34:                <th class="text-left border border-gray-400 px-4 py-2">Type</th>
35:                <th class="text-left border border-gray-400 px-4 py-2">Value</th>
36:                <th class="text-left border border-gray-400 px-4 py-2">Carbon Emission</th>
37:              </tr>
38:            </thead>
39:            <tbody>
40:              <% @activities.each do |activity| %>
41:                <tr>
42:                  <td class="border border-gray-400 px-4 py-2"><%= activity.created_at.strftime("%d/%m/%y") %></td>
43:                  <td class="border border-gray-400 px-4 py-2 capitalize"><%= activity.activity_type.category %></td>
44:                  <td class="border border-gray-400 px-4 py-2"><%= "#{activity.activity_type.name}" %></td>
45:                  <td class="border border-gray-400 px-4 py-2"><%= activity.value.to_s + " " + activity.activity_type.climatiq_unit_of_measurement %></td>
46:                  <td class="border border-gray-400 px-4 py-2"><%= activity.carbon_emission %></td>
47:                </tr>
48:              <% end %>
49:            </tbody>
50:          </table>
51:        </div>
52:      <% end %>
53:    
54:    <% end %>
  
app/views/user/show.html.erb:8: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/user/show.html.erb:56: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:8: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/user/show.html.erb:56: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:8: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/user/show.html.erb:56: syntax error, unexpected `end', expecting ')'
app/views/user/show.html.erb:8: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/user/show.html.erb:56: syntax error, unexpected `end', expecting ')'
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:53:49 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1158)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 8394)
Completed 200 OK in 32ms (Views: 16.8ms | ActiveRecord: 0.9ms | Allocations: 12297)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:54:26 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 648)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 7410)
Completed 200 OK in 27ms (Views: 12.6ms | ActiveRecord: 1.0ms | Allocations: 10759)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:55:02 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:25
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:39
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:42
  Rendered user/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 4614)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 11629)
Completed 200 OK in 30ms (Views: 17.1ms | ActiveRecord: 1.9ms | Allocations: 15528)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:55:36 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 9.0ms | Allocations: 1148)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 8397)
Completed 200 OK in 35ms (Views: 19.9ms | ActiveRecord: 1.5ms | Allocations: 12297)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:55:37 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 1.4ms | Allocations: 649)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 7592)
Completed 200 OK in 24ms (Views: 12.6ms | ActiveRecord: 0.6ms | Allocations: 10899)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:55:55 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  Rendered user/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 648)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 7410)
Completed 200 OK in 32ms (Views: 16.7ms | ActiveRecord: 0.9ms | Allocations: 10737)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:55:57 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:26
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:40
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:43
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:43
  Rendered user/show.html.erb within layouts/application (Duration: 11.4ms | Allocations: 4608)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 11623)
Completed 200 OK in 36ms (Views: 20.7ms | ActiveRecord: 2.0ms | Allocations: 15504)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:55:59 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:26
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:40
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:43
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:43
  Rendered user/show.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4066)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 11019)
Completed 200 OK in 27ms (Views: 16.6ms | ActiveRecord: 1.1ms | Allocations: 14341)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:56:00 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types"[0m
  ↳ app/controllers/user_controller.rb:8:in `sort_by'
  Rendering layout layouts/application.html.erb
  Rendering user/show.html.erb within layouts/application
  [1m[36mActivity Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "activities" WHERE "activities"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:26
  [1m[36mActivity Load (0.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities" WHERE "activities"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/user/show.html.erb:40
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:43
  [1m[36mCACHE ActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/user/show.html.erb:43
  Rendered user/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4062)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 10840)
Completed 200 OK in 32ms (Views: 13.5ms | ActiveRecord: 0.7ms | Allocations: 14149)


Started GET "/use" for 127.0.0.1 at 2024-03-11 04:57:16 +0800
  
ActionController::RoutingError (No route matches [GET] "/use"):
  
Started GET "/" for 127.0.0.1 at 2024-03-11 04:57:17 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 87)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 7509)
Completed 200 OK in 30ms (Views: 22.6ms | ActiveRecord: 0.6ms | Allocations: 10298)


Started DELETE "/users/sign_out?_method=delete" for 127.0.0.1 at 2024-03-11 04:57:20 +0800
Processing by Devise::SessionsController#destroy as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 16ms (ActiveRecord: 0.3ms | Allocations: 3787)


Started GET "/" for 127.0.0.1 at 2024-03-11 04:57:20 +0800
Processing by DashboardController#index as TURBO_STREAM
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 383)


Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 04:57:20 +0800
Processing by Devise::SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 644)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 2752)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 9720)
Completed 200 OK in 23ms (Views: 22.4ms | ActiveRecord: 0.0ms | Allocations: 10897)


Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:57:30 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms | Allocations: 1248)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/user_controller.rb:4:in `show'
Started GET "/user/1" for 127.0.0.1 at 2024-03-11 04:57:32 +0800
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/user_controller.rb:3:in `show'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 1240)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/user_controller.rb:4:in `show'
Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 04:57:40 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 136)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1324)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 8413)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.0ms | Allocations: 9087)


  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" ORDER BY "activity_types"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActivityType Load (0.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" ORDER BY "activity_types"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActivity Load (0.5ms)[0m  [1m[34mSELECT "activities".* FROM "activities" ORDER BY "activities"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActivity Load (0.4ms)[0m  [1m[34mSELECT "activities".* FROM "activities" ORDER BY "activities"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActivity Load (0.8ms)[0m  [1m[34mSELECT "activities".* FROM "activities" ORDER BY "activities"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActivityType Load (0.7ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActivity Count (2.6ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "activities"."type_id" AS "activities_type_id" FROM "activities" GROUP BY "activities"."type_id"[0m
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" WHERE "activity_types"."id" = ?[0m  [["id", 1]]
Started GET "/users/sign_in" for 127.0.0.1 at 2024-03-11 05:09:48 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.9ms | Allocations: 553)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2208)
Importmap skipped missing path: chartkick.js
Importmap skipped missing path: Chart.bundle.js
Importmap skipped missing path: chartkick.js
Importmap skipped missing path: Chart.bundle.js
  Rendered layout layouts/application.html.erb (Duration: 43.2ms | Allocations: 33393)
Completed 200 OK in 50ms (Views: 45.2ms | ActiveRecord: 0.4ms | Allocations: 37267)


Started POST "/users/sign_in" for 127.0.0.1 at 2024-03-11 05:09:59 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"lancau123@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "lancau123@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.7ms | Allocations: 1499)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"lancau123@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 537)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2151)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 9407)
Completed 200 OK in 480ms (Views: 13.3ms | ActiveRecord: 0.0ms | Allocations: 11076)


Started POST "/users/sign_in" for 127.0.0.1 at 2024-03-11 05:10:04 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"lancau@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "lancau@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_created_at", "2024-03-10 21:10:04.548222"], ["updated_at", "2024-03-10 21:10:04.548817"], ["id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (1.7ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 460ms (ActiveRecord: 6.7ms | Allocations: 12043)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:10:04 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 1056)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 1144)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.5ms | Allocations: 6578)


  
ActionView::Template::Error (undefined method `pie_chart' for an instance of #<Class:0x00000001386d00b8>):
    1: <h1 class="text-blue-600">Dashboard</h1>
    2: 
    3: <% if @carbon_emissions_by_activity_type.any? %>
    4:   <%= pie_chart @carbon_emissions_by_activity_type, library: { title: { text: 'Carbon Emission by Activity Type' } } %>
    5: <% else %>
    6:   <p>No data available.</p>
    7: <% end %>
  
app/views/dashboard/index.html.erb:4
Started GET "/" for 127.0.0.1 at 2024-03-11 05:11:35 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.4ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 586)
  Rendered layout layouts/application.html.erb (Duration: 170.4ms | Allocations: 98084)
Completed 200 OK in 220ms (Views: 172.3ms | ActiveRecord: 1.6ms | Allocations: 124769)


  [1m[36mActivity Load (2.1ms)[0m  [1m[34mSELECT "activities".* FROM "activities"[0m
Started GET "/" for 127.0.0.1 at 2024-03-11 05:13:32 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (1.6ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 498)
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | Allocations: 28643)
Completed 200 OK in 50ms (Views: 31.5ms | ActiveRecord: 3.1ms | Allocations: 44674)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:15:28 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.7ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 794)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 8703)
Completed 200 OK in 47ms (Views: 14.6ms | ActiveRecord: 1.4ms | Allocations: 12917)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:15:41 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 8747)
Completed 200 OK in 61ms (Views: 11.5ms | ActiveRecord: 0.9ms | Allocations: 12989)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:21:58 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.7ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 8598)
Completed 200 OK in 31ms (Views: 15.1ms | ActiveRecord: 2.1ms | Allocations: 13010)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:22:03 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 8049)
Completed 200 OK in 23ms (Views: 12.0ms | ActiveRecord: 1.1ms | Allocations: 11717)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:22:04 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 8197)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.3ms | Allocations: 11852)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:22:04 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 8048)
Completed 200 OK in 18ms (Views: 9.3ms | ActiveRecord: 0.7ms | Allocations: 11691)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:22:05 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 8048)
Completed 200 OK in 17ms (Views: 9.4ms | ActiveRecord: 0.8ms | Allocations: 11707)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:22:05 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 8196)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 0.6ms | Allocations: 11845)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:22:05 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.5ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 8048)
Completed 200 OK in 24ms (Views: 11.2ms | ActiveRecord: 1.2ms | Allocations: 11718)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:22:58 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 797)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 8616)
Completed 200 OK in 53ms (Views: 24.8ms | ActiveRecord: 1.1ms | Allocations: 12842)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:23:20 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 795)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 8624)
Completed 200 OK in 40ms (Views: 13.6ms | ActiveRecord: 0.6ms | Allocations: 12851)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:24:03 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 820)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 8627)
Completed 200 OK in 35ms (Views: 13.2ms | ActiveRecord: 0.6ms | Allocations: 12826)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:24:13 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 813)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 8777)
Completed 200 OK in 26ms (Views: 16.4ms | ActiveRecord: 0.6ms | Allocations: 12998)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:24:19 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 814)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 8641)
Completed 200 OK in 23ms (Views: 12.6ms | ActiveRecord: 0.5ms | Allocations: 12881)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:24:26 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.5ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 813)
  Rendered layout layouts/application.html.erb (Duration: 48.2ms | Allocations: 8620)
Completed 200 OK in 71ms (Views: 53.5ms | ActiveRecord: 1.2ms | Allocations: 12848)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:24:29 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (10.5ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 818)
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | Allocations: 11638)
Completed 200 OK in 67ms (Views: 27.5ms | ActiveRecord: 11.4ms | Allocations: 15864)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:25:12 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.8ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.4ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 8675)
Completed 200 OK in 44ms (Views: 15.0ms | ActiveRecord: 1.9ms | Allocations: 12880)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:25:16 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 814)
  Rendered layout layouts/application.html.erb (Duration: 29.5ms | Allocations: 11596)
Completed 200 OK in 48ms (Views: 31.3ms | ActiveRecord: 0.6ms | Allocations: 15811)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:25:19 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 11432)
Completed 200 OK in 38ms (Views: 29.1ms | ActiveRecord: 0.5ms | Allocations: 15655)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:25:55 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | Allocations: 11577)
Completed 200 OK in 56ms (Views: 34.1ms | ActiveRecord: 1.0ms | Allocations: 15800)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:26:01 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (1.0ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 815)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 8632)
Completed 200 OK in 38ms (Views: 21.5ms | ActiveRecord: 1.5ms | Allocations: 12843)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:26:11 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 814)
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 8750)
Completed 200 OK in 39ms (Views: 30.9ms | ActiveRecord: 0.4ms | Allocations: 12975)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:26:16 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 8734)
Completed 200 OK in 20ms (Views: 10.4ms | ActiveRecord: 0.5ms | Allocations: 12950)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:26:17 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | Allocations: 10833)
Completed 200 OK in 34ms (Views: 23.2ms | ActiveRecord: 0.9ms | Allocations: 14465)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:26:23 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 8772)
Completed 200 OK in 27ms (Views: 11.7ms | ActiveRecord: 0.7ms | Allocations: 13010)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:26:29 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 814)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 8622)
Completed 200 OK in 54ms (Views: 26.9ms | ActiveRecord: 1.1ms | Allocations: 12854)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:26:35 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 8832)
Completed 200 OK in 35ms (Views: 25.7ms | ActiveRecord: 0.5ms | Allocations: 13042)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:27:03 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 815)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 8632)
Completed 200 OK in 41ms (Views: 28.8ms | ActiveRecord: 0.6ms | Allocations: 12862)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:27:52 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 815)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 8623)
Completed 200 OK in 28ms (Views: 15.5ms | ActiveRecord: 0.7ms | Allocations: 12835)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:27:55 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 8196)
Completed 200 OK in 15ms (Views: 8.6ms | ActiveRecord: 0.4ms | Allocations: 11833)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:27:56 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 8049)
Completed 200 OK in 17ms (Views: 9.2ms | ActiveRecord: 0.7ms | Allocations: 11724)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:28:46 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 34.4ms | Allocations: 11634)
Completed 200 OK in 54ms (Views: 42.9ms | ActiveRecord: 0.8ms | Allocations: 15841)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:30:15 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 834)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 8651)
Completed 200 OK in 34ms (Views: 19.8ms | ActiveRecord: 0.8ms | Allocations: 12879)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:31:36 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 11655)
Completed 200 OK in 44ms (Views: 30.0ms | ActiveRecord: 1.0ms | Allocations: 15864)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:32:13 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (2.7ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 830)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 8638)
Completed 200 OK in 41ms (Views: 21.9ms | ActiveRecord: 6.5ms | Allocations: 12892)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:32:34 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (3.6ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 828)
  Rendered layout layouts/application.html.erb (Duration: 35.1ms | Allocations: 8771)
Completed 200 OK in 65ms (Views: 41.5ms | ActiveRecord: 6.7ms | Allocations: 13002)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:32:48 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.6ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 831)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 8699)
Completed 200 OK in 33ms (Views: 13.4ms | ActiveRecord: 1.2ms | Allocations: 12944)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:33:03 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 829)
  Rendered layout layouts/application.html.erb (Duration: 31.1ms | Allocations: 11518)
Completed 200 OK in 54ms (Views: 34.7ms | ActiveRecord: 1.0ms | Allocations: 15716)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:33:28 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 832)
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | Allocations: 11537)
Completed 200 OK in 44ms (Views: 28.6ms | ActiveRecord: 1.0ms | Allocations: 15756)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:33:28 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.3ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 8180)
Completed 200 OK in 24ms (Views: 14.1ms | ActiveRecord: 0.9ms | Allocations: 11828)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:34:11 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 833)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 8641)
Completed 200 OK in 23ms (Views: 13.0ms | ActiveRecord: 0.6ms | Allocations: 12858)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:34:12 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 8049)
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 0.3ms | Allocations: 11698)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:34:12 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.0ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 8182)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.3ms | Allocations: 11822)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:34:14 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 8049)
Completed 200 OK in 15ms (Views: 7.6ms | ActiveRecord: 0.7ms | Allocations: 11684)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:34:20 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 8183)
Completed 200 OK in 21ms (Views: 13.2ms | ActiveRecord: 0.6ms | Allocations: 11850)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:34:20 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 8135)
Completed 200 OK in 17ms (Views: 10.1ms | ActiveRecord: 0.7ms | Allocations: 11781)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:34:21 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.2ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 8049)
Completed 200 OK in 18ms (Views: 8.9ms | ActiveRecord: 0.7ms | Allocations: 11695)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:34:21 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.4ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.3ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 8182)
Completed 200 OK in 23ms (Views: 12.6ms | ActiveRecord: 1.0ms | Allocations: 11846)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:34:28 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.1ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 833)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 8641)
Completed 200 OK in 21ms (Views: 11.6ms | ActiveRecord: 0.6ms | Allocations: 12859)


Started GET "/" for 127.0.0.1 at 2024-03-11 05:34:41 +0800
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivityType Load (0.2ms)[0m  [1m[34mSELECT "activity_types".* FROM "activity_types" INNER JOIN "user_preferences" ON "activity_types"."id" = "user_preferences"."activity_type_id" WHERE "user_preferences"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/controllers/application_controller.rb:23:in `redirect_to_welcome_if_preferences_blank'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."name" AS "activity_types_name" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."name"[0m
  ↳ app/controllers/dashboard_controller.rb:5:in `index'
  [1m[36mActivity Sum (0.1ms)[0m  [1m[34mSELECT SUM("activities"."carbon_emission") AS "sum_carbon_emission", "activity_types"."category" AS "activity_types_category" FROM "activities" INNER JOIN "activity_types" ON "activity_types"."id" = "activities"."type_id" GROUP BY "activity_types"."category"[0m
  ↳ app/controllers/dashboard_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 831)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 8774)
Completed 200 OK in 36ms (Views: 11.1ms | ActiveRecord: 1.0ms | Allocations: 12979)


